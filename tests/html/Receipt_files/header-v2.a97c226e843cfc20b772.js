"use strict";(self.webpackChunkseamless_spa=self.webpackChunkseamless_spa||[]).push([[5134],{199353:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(58168),r=n(364467),i=n(180045),o=n(296540),s=n(32485),l=n.n(s),c=n(292719),u=["children","count","plus","kind","palette","variant","indeterminate","inverse"],d=function(e){var t,n=e.children,s=e.count,d=e.plus,m=e.kind,p=e.palette,h=e.variant;e.indeterminate;var v=e.inverse,y=(0,i.A)(e,u);return o.createElement("output",(0,a.A)({},y,{className:l()("kds-Badge-wrapper",y.className)}),n,(void 0!==s||d)&&o.createElement("span",{className:l()("kds-Badge distinct",(t={"kds-Badge--pinned":Boolean(n),"as-inverse":v},(0,r.A)(t,"palette-".concat(p),p),(0,r.A)(t,"kind-".concat(m),m),(0,r.A)(t,"variant-".concat(h),h),t)),style:d?{width:"1rem"}:{}},d?o.createElement(c.u,{width:"100%",height:"100%",size:"xs"}):s))};d.defaultProps={kind:"prominent",palette:"accent",variant:"fill",inverse:!1};var m=d},863066:(e,t,n)=>{n.d(t,{A:()=>_});var a=n(23029),r=n(92901),i=n(109417),o=n(885501),s=n(56822),l=n(353954),c=n(364467),u=n(58168),d=n(180045),m=n(489379),p=n(32485),h=n.n(p),v=n(296540),y=n(360299),f=n(789928),g=n(560753),E=n(824002),S=n(118064),b=n(100577),M=n(820443),w=n(482049),C=n(758030),N=n(606091),A=n(678537),x=n(248688),k=n(282971),I=n(366836),T=["id","shouldShowMessages","validations","messageKinds","focused","invalid","shouldShowAdaAlert","screenReaderMessages"],R=["as","name","label","required","validations","showMessages","className","moreInfo","helpText","button","inputRef","serverMessages"];function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.A)(e);if(t){var r=(0,l.A)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,s.A)(this,n)}}var D=function(e){var t=e.linkText,n=void 0===t?"More Info":t,a=e.content,r=e.id;return a?v.createElement(S.A,{noRouter:!0,onClick:function(){return alert(a)},size:"m",className:"ml-8","aria-labelledby":r},n,v.createElement(N.G,{className:"ml-4"}),v.createElement("span",{id:r,className:"screen-reader"},n,", ",a)):null},P=function(e,t,n){var a=(0,y.LB)(e);return t.map((function(e){var t=e.validate;return(0,I.J1)(t)(a)?"success":n}))},O=function(e,t,n){var a=(0,m.A)({},t,{},n),r=a.focused;return!!a.validationError||("onFocus"===e?r:void 0)},B=function(e){var t=e.id,n=e.shouldShowMessages,a=e.validations,r=e.messageKinds,i=e.focused,o=e.invalid,s=e.shouldShowAdaAlert,l=e.screenReaderMessages,c=(0,d.A)(e,T);return n&&a.length>0?v.createElement(v.Fragment,null,v.createElement(M.A,(0,u.A)({},c,{"aria-hidden":"true"}),a.map((function(e,t){var n=e.text,a={error:v.createElement(A.c,null),info:v.createElement(N.G,null),success:v.createElement(x.l,null),warning:v.createElement(k.i,null)},i={error:"negative",info:"informative",success:"positive",warning:"callout"}[r[t]],o=a[r[t]];return v.createElement(b.A,{key:t,palette:i,icon:o},n)}))),i&&n&&v.createElement("div",{id:t,"data-testid":t,className:"screen-reader"},l),o&&!i&&s&&v.createElement("div",{id:"".concat(t,"-alert"),"aria-live":"assertive","aria-relevant":"all","aria-atomic":"true",className:"screen-reader"},l)):null};var H=function(e){(0,o.A)(n,e);var t=L(n);function n(e){var r;(0,a.A)(this,n),r=t.call(this,e),(0,c.A)((0,i.A)(r),"id","".concat((0,f.U)(),"-input")),(0,c.A)((0,i.A)(r),"handleFocus",(function(){var e=r.state.shouldShowMessages,t={focused:!0};r.setState((0,m.A)({},t,{shouldShowMessages:e||O(r.props.showMessages,r.state,t),shouldShowAdaAlert:!1}))})),(0,c.A)((0,i.A)(r),"handleChange",(function(e){var t=r.state.validationError,n=P(e.target,r._validations,t?"error":"info");r.state.messageKinds.map((function(e,t){return e===n[t]})).filter((function(e){return!e})).length>0&&r.setState({messageKinds:n})})),(0,c.A)((0,i.A)(r),"handleBlur",(function(e){r.setState({focused:!1}),setTimeout((function(){return r.setState((function(e){return(0,m.A)({},e,{shouldShowAdaAlert:!0})}))}),250)}));var o=e.required,s=e.validations,l=C.addRequiredToValidations;return r._validations=o?l(s):s,r.state={messageKinds:r._validations.map((function(){return"info"})),focused:!1,validationError:!1,shouldShowMessages:!1,shouldShowAdaAlert:!1},r.inputRef=e.inputRef||v.createRef(),r}return(0,r.A)(n,[{key:"componentDidMount",value:function(){var e=this;if(this.inputRef&&this.inputRef.current){var t=this.inputRef.current,n=t.checkValidity.bind(t);t.checkValidity=function(){var a=P(t,e._validations,"error"),r=a.some((function(e){return"error"===e}));return e.setState({messageKinds:a,validationError:r,shouldShowMessages:O(e.props.showMessages,e.state,{validationError:r})}),!r&&n()},t.restoreDefaultState=function(){e.setState({messageKinds:e._validations.map((function(){return"info"})),focused:!1,validationError:!1,shouldShowMessages:!1,shouldShowAdaAlert:!1,submitError:!1})}}}},{key:"componentDidUpdate",value:function(e,t){var n=this,a=void 0!==this.props.focusOn?!e.focusOn&&this.props.focusOn:(!e.serverMessages||0===e.serverMessages.length)&&this.props.serverMessages&&this.props.serverMessages.length>0,r=t.messageKinds;if(this.state.messageKinds.map((function(e,t){return e===r[t]})).filter((function(e){return!e})).length>0){var i,o={messagesShown:this.state.shouldShowMessages&&this.state.messageKinds};try{i=new CustomEvent("validation",{bubbles:!0,detail:o})}catch(e){throw new Error("KDS FormField validations error. You may need the custom-event polyfill http://design.kroger.com/#/react/components/polyfills")}this.inputRef.current.setAttribute("data-messagesShown",JSON.stringify(this.state.shouldShowMessages?this.state.messageKinds.map((function(e,t){return{messageText:n._validations[t].text,messageKind:e}})):[])),this.inputRef.current.dispatchEvent(i)}a&&setTimeout((function(){n.inputRef.current.focus()}),0)}},{key:"render",value:function(){var e=this.props,t=e.as,n=e.name,a=e.label;e.required,e.validations,e.showMessages;var r=e.className,i=e.moreInfo,o=e.helpText,s=e.button;e.inputRef;var l=e.serverMessages,c=void 0===l?[]:l,p=(0,d.A)(e,R),f=this.state,g=f.messageKinds,S=f.focused,b=f.validationError,M=f.shouldShowMessages,N=f.shouldShowAdaAlert,A=(0,C.contains)(this._validations,C.required),x=c.length>0,k=x||b&&g.some((function(e){return"error"===e})),T=h()({"is-invalid":k,"is-focused":S,"is-required":A}),L=!b&&x?c:this._validations.map((function(e,t){var n=e.text;return"".concat(g[t],": ").concat(n)})).join(". "),P=p.id||this.id,O=o?"".concat(P,"-helpText"):"",H=i?"".concat(P,"-moreInfo"):"",_=M||x?"".concat(P,"-messages"):"",U=[O,H,_].join(" ").trim(),K=s&&function(e,t){var n=v.Children.only(e),a=v.Children.only(e.props.children);return v.cloneElement(n,(0,m.A)({},n.props,{variant:"minimal",kind:"alternate",type:"button","aria-controls":t,className:h()("kds-FormField-iconButton",n.props.className),children:v.cloneElement(a,(0,m.A)({},a.props,{size:"m",className:h()("kds-FormField-icon",a.props.className)}))}))}(s,P);return v.createElement("div",{className:h()("kds-Form--field kds-FormField",T,r)},a&&v.createElement("span",{className:"flex"},v.createElement(E.A,{htmlFor:P,className:h()("mb-8",p.inverse&&"kind-alternate variant-minimal as-inverse")},a),v.createElement(D,(0,u.A)({id:H},i))),o&&v.createElement(w.A,{id:O,size:"s",className:"-mt-4 mb-8"},o),v.createElement("div",{className:"kds-FormField-inputWrapper flex items-center"},v.createElement(t,(0,u.A)({},p,{ref:this.inputRef,id:P,name:(0,y.$r)(n,a),"aria-describedby":U||null,"aria-invalid":k,"aria-required":A,onFocus:(0,I.OK)(this.handleFocus,this.props.onFocus),onChange:(0,I.OK)(this.handleChange,this.props.onChange),onBlur:(0,I.OK)(this.handleBlur,this.props.onBlur),className:h()(s&&"kds-FormField-input--withIconButton")})),K),v.createElement(B,{id:_,shouldShowMessages:M||x,validations:!b&&x?c.map((function(e){return{text:e}})):this._validations,messageKinds:!b&&x?c.map((function(){return"error"})):g,focused:S,invalid:k,shouldShowAdaAlert:N,screenReaderMessages:L}))}}]),n}(v.Component);H.defaultProps={as:g.A,validations:[]};var _=H},756732:(e,t,n)=>{n.d(t,{A:()=>S});var a=n(58168),r=n(180045),i=n(23029),o=n(92901),s=n(109417),l=n(885501),c=n(56822),u=n(353954),d=n(364467),m=n(296540),p=n(511087),h=n(686033),v=n(863066),y=n(431979),f=n(366836),g=["onSearch"];function E(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,u.A)(e);if(t){var r=(0,u.A)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return(0,c.A)(this,n)}}var S=function(e){(0,l.A)(n,e);var t=E(n);function n(){var e;(0,i.A)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r)),(0,d.A)((0,s.A)(e),"inputRef",m.createRef()),(0,d.A)((0,s.A)(e),"handleSearch",(function(t){t.preventDefault(),(0,f.J1)(e.props.onSearch)(e.inputRef.current.value)})),e}return(0,o.A)(n,[{key:"render",value:function(){var e=this.props;e.onSearch;var t=(0,r.A)(e,g);return m.createElement(v.A,(0,a.A)({},t,{inputRef:this.inputRef,onKeyDown:(0,f.OK)((0,h.j)(this.handleSearch),this.props.onKeyDown),type:"search",button:m.createElement(p.Ay,{onClick:this.handleSearch,"aria-label":"search"},m.createElement(y.C,null))}))}}]),n}(m.Component)},758030:(e,t,n)=>{n.r(t),n.d(t,{addRequiredToValidations:()=>E,contains:()=>g,max:()=>f,maxLength:()=>v,min:()=>y,minLength:()=>h,pattern:()=>p,required:()=>m});var a=n(445458),r=n(521839),i=n(767317),o="required",s="pattern",l="minLength",c="maxLength",u="min",d="max",m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{_id:o,text:(0,i.aA)(e)?e:"Input is required.",validate:r.K}};m._id=o;var p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/.*/,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{_id:s,text:(0,i.aA)(t)?t:"Input must be valid.",validate:function(t){return e.test(t)}}};p._id=s;var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{_id:l,text:(0,i.aA)(t)?t:"Input must be ".concat(e," characters or more."),validate:function(t){return Boolean(t)&&"string"==typeof t&&t.length>=e}}};h._id=l;var v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{_id:c,text:(0,i.aA)(t)?t:"Input must be ".concat(e," characters or less."),validate:function(t){return"string"==typeof t&&t.length<=e}}};v._id=c;var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{_id:u,text:(0,i.aA)(t)?t:"Input must be ".concat(e," or more."),validate:function(t){return Number(t)>=e}}};y._id=u;var f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return{_id:d,text:(0,i.aA)(t)?t:"Input must be ".concat(e," or less."),validate:function(t){return Number(t)<=e}}};f._id=d;var g=function(e,t){return Boolean(e.find((function(e){return e._id===t._id})))},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return g(e,m)?e:[m(t)].concat((0,a.A)(e))}},604612:(e,t,n)=>{n.d(t,{H:()=>o});var a=n(58168),r=n(296540),i=n(536074),o=function(e){return r.createElement(i.A,(0,a.A)({"data-name":"Icon"},e),r.createElement("path",{d:"M13.327 13.15a5.524 5.524 0 00-10.654-.001.688.688 0 00.67.855h9.314a.688.688 0 00.67-.855zm-9.91.124a4.775 4.775 0 019.16-.02zM8.047 8.354a3.18 3.18 0 10-3.18-3.179 3.18 3.18 0 003.18 3.18zm0-5.608a2.43 2.43 0 11-2.43 2.429 2.432 2.432 0 012.43-2.43z"}))}},885904:(e,t,n)=>{n.d(t,{R:()=>o});var a=n(58168),r=n(296540),i=n(536074),o=function(e){return r.createElement(i.A,(0,a.A)({"data-name":"Icon"},e),r.createElement("path",{d:"M12.594 5.157H3.375a.5.5 0 010-1h9.219a.5.5 0 010 1zM12.594 8.495H3.375a.5.5 0 010-1h9.219a.5.5 0 010 1zM12.625 11.843H3.406a.5.5 0 010-1h9.219a.5.5 0 010 1z"}))}},988783:(e,t,n)=>{n.d(t,{g:()=>o});var a=n(58168),r=n(296540),i=n(536074),o=function(e){return r.createElement(i.A,(0,a.A)({"data-name":"Icon"},e),r.createElement("path",{d:"M8 3.134a.375.375 0 00-.375.375v3.673a1.112 1.112 0 00.328.794L9.93 9.96a.375.375 0 10.53-.53L8.485 7.446a.37.37 0 01-.109-.263V3.509A.375.375 0 008 3.134z"}),r.createElement("path",{d:"M8 1.387a6.125 6.125 0 000 12.25h1.348l-.69.703a.375.375 0 10.534.525l1.23-1.252a.522.522 0 00-.01-.741l-1.253-1.22a.375.375 0 10-.523.536l.717.699H8a5.376 5.376 0 113.8-1.576.376.376 0 00.532.532A6.126 6.126 0 008 1.387z"}))}},839770:(e,t,n)=>{n.d(t,{L:()=>o});var a=n(58168),r=n(296540),i=n(536074),o=function(e){return r.createElement(i.A,(0,a.A)({"data-name":"Icon"},e),r.createElement("path",{d:"M13.45 4.8v3.07c0 .21-.16.37-.37.37s-.38-.16-.38-.37V5.54L9.05 9.2c-.28.28-.72.33-1.06.13L6.28 8.31a.121.121 0 00-.15.02l-3.36 3.3c-.08.07-.17.11-.27.11-.09 0-.19-.04-.26-.12a.368.368 0 010-.53l3.36-3.3c.29-.28.72-.33 1.06-.13l1.71 1.03s.11.02.15-.02l3.65-3.66H9.85c-.21 0-.38-.16-.38-.37s.17-.38.38-.38h3.07c.29 0 .53.24.53.54z"}))}},360299:(e,t,n)=>{n.d(t,{LB:()=>i,Rw:()=>s,$r:()=>l});var a=n(521839),r=n(767317);var i=function(e){if("date"===e.getAttribute("type"))try{return new Date(e.value).toISOString().slice(0,10)}catch(e){return""}switch(e.type){case"checkbox":return e.checked;case"radio":return t=e.name,(n=Array.from(document.getElementsByName(t)).find((function(e){return e.checked})))?n.value:"";default:return e.value}var t,n},o=function(e){var t=e.length&&e.length>1&&!e.value,n=e.getAttribute&&"date"===e.getAttribute("type"),a="radio"===e.type,r="checkbox"===e.type;return t?function(e){var t=Array.from(e),n=t.every((function(e){return"radio"===e.type})),a=t.every((function(e){return"checkbox"===e.type}));if(n){var r=t.find((function(e){return e.checked}));return r&&r.value}return a?t.filter((function(e){return e.checked})).map((function(e){return e.value})):t.map((function(e){return e.value}))}(e):n?function(e){try{return new Date(e.value).toISOString().slice(0,10)}catch(e){return""}}(e):a?e.checked?e.value:"":r?e.checked:e.value},s=function(e){var t,n;return(t=Array.from(e.elements),n="name",Object.keys(t.reduce((function(e,t){return t[n]&&(e[t[n]]=!0),e}),{}))).reduce((function(t,n){return t[n]=o(e.elements[n]),t}),{})},l=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(0,a.K)(e)?e:(0,r.PT)(n.find(Boolean))}},686033:(e,t,n)=>{n.d(t,{j:()=>a});var a=function(e){return function(t){return"Enter"===t.key&&e(t)}}},521839:(e,t,n)=>{n.d(t,{K:()=>a});var a=function(e){return 0===e||Boolean(e)}},425885:(e,t,n)=>{n.d(t,{GJ:()=>o,Lg:()=>l,bV:()=>i,m0:()=>s});var a=n(267347),r=n(277824),i=function(e){return{type:r._b.OMNITURE.PREPOPULATE_INTERNAL_SEARCH,payload:e}},o=function(e){return{type:r._b.OMNITURE.SEARCH_REDIRECT,payload:e}},s=()=>({type:r._b.OMNITURE.DISPLAY_ALERT,payload:{componentName:a.EA.PREDICTIVE_SEARCH,alertMessage:a.nl.ALERT_MESSAGE_FOR_NO_SUGGESTIONS,alertType:a.if.SEARCH_RESULTS}}),l=e=>({type:r._b.OMNITURE.REMOVE_IT,payload:e})},145929:(e,t,n)=>{n.d(t,{O:()=>r});var a=n(277824),r=e=>({type:a.En.SetPredictiveSelection,payload:e})},519654:(e,t,n)=>{n.d(t,{B:()=>r});var a=n(277824),r=e=>{var{queries:t,query:n}=e;return{type:a.En.SetWhatsNext,payload:{queries:t,query:n}}}},696873:(e,t,n)=>{n.d(t,{NA:()=>o,bz:()=>s,l$:()=>i});var a=n(801081),r=n(526119),i=(0,a.createSelector)((e=>(0,r.s)(e).whatsNext.queries),(e=>e||[])),o=(0,a.createSelector)(i,((e,t)=>t),((e,t)=>((e,t)=>{var n;return null===(n=e.map((e=>{var{query:t}=e;return{query:t}})))||void 0===n?void 0:n.slice(0,t)})(e,t))),s=e=>(0,r.s)(e).whatsNext.query},630085:(e,t,n)=>{n.d(t,{KJ:()=>c,QG:()=>u,VS:()=>s});var a=n(389309),r=n(58168);class i{constructor(e,t){void 0===e&&(e=localStorage),void 0===t&&(t=a.SO),this.storage=e,this.prefix=t}setItem(e,t,n){if(t){var a=this.prefixKey(e),r=this.createExpirableItem(t,n),i=JSON.stringify(r);this.storage.setItem(a,i)}}getItem(e){this.removeExpiredItems();var t=this.prefixKey(e),n=this.storage.getItem(t);if(n){var a=JSON.parse(n);return this.getItemValue(a)}return null}removeItem(e){var t=this.getItem(e),n=this.prefixKey(e);return this.storage.removeItem(n),t}clear(){return this.getOwnKeys().reduce(((e,t)=>(this.storage.removeItem(t),++e)),0)}prefixKey(e){return this.prefix+"_"+e}createExpirableItem(e,t){return(0,r.A)({},Boolean(t)&&{ttl:t+this.currentTimestamp()},{value:e})}currentTimestamp(){return Date.now()}getItemValue(e){return e.value}getOwnKeys(){return Object.keys(this.storage).filter((e=>e.startsWith(this.prefix+"_")))}removeExpiredItems(){this.getOwnKeys().forEach((e=>{var t=this.storage.getItem(e);if(t)try{var n=JSON.parse(t);n.ttl&&n.ttl<=this.currentTimestamp()&&this.storage.removeItem(e)}catch(t){this.storage.removeItem(e)}}))}}var o,s=()=>{try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}},l=()=>o||(o=s()?new i(window.localStorage,a.SO):void 0),c=()=>{if(l()){var e,t=null===(e=o)||void 0===e?void 0:e.getItem(a.FO);return Array.isArray(t)&&t.length>0?t:[]}return[]},u=e=>{var t,n=e.trim();if(l()&&!(n.length<1)){var r=c().filter((e=>e.toLowerCase()!==n.toLowerCase())),i=[n,...r].slice(0,5);return null===(t=o)||void 0===t?void 0:t.setItem(a.FO,i)}}},773076:(e,t,n)=>{n.d(t,{M:()=>s,N:()=>o});var a=n(800064),r=n(430210),i=n(158850),o=e=>{var t,{loading:n}=null!==(t=a.useCases.checkout.create.selectors.async(r.Pv)(e))&&void 0!==t?t:{};return Boolean(n)},s=(e,t)=>{var n,r=null!==(n=(0,i.Kj)(e))&&void 0!==n?n:{},{loaded:o,error:s}=a.useCases.checkout.getCheckout.selectors.async(null!=t?t:r)(e)||{};return s||o}},783491:(e,t,n)=>{n.r(t),n.d(t,{HeaderV2:()=>na,default:()=>ra});var a=n(58168),r=n(198587),i=n(296540),o=n(606778),s=n(255263),l=n(416683),c=n(32485),u=n.n(c),d=n(115857),m=n(953700),p=n(826893),h=n(885904),v=n(511087),y=n(81881),f=n(118064),g=n(733099),E=n(754976),S=n(983428),b=n(703729),M=e=>{try{return e.replace(/[^a-zA-Z0-9 ]/g,"").replace(/[ ]+/g,"-")}catch(e){return""}},w=e=>{var{title:t,children:n,index:a}=e,[r,o]=(0,i.useState)(0===a?"block":"none"),s=(0,l.useDispatch)();return i.createElement("li",{className:"list-none"},i.createElement("button",{type:"button","data-testid":"SiteMenuDropDown-button-"+t,id:"SiteMenuDropDown-button--"+M(t),className:"text-left w-full hover:underline  bg-primary py-12 mb-4 pl-16 flex justify-between font-bold kds-Text SiteMenuDropDown-button",onClick:()=>{"none"===r?(o("block"),s({type:"SEAMLESS_NAVIGATE_NO_NAVIGATION",payload:{itemIndex:a+1,destination:"/",usageContext:t.toLowerCase(),metricsKey:"ExposedMenu/navigation",componentName:"menu",dataClassification:"Highly Private Linked Personal Information"}})):o("none")},"aria-expanded":"none"===r?"false":"true"},t,"none"===r?i.createElement(S.r,{"aria-hidden":"true",className:"SiteMenuContent-DownArrow float-right mr-16",size:"s","data-testid":"SiteMenuDropDown-IconDown"}):i.createElement(b.o,{"aria-hidden":"true",className:"SiteMenuContent-UpArrow float-right mr-16",size:"s","data-testid":"SiteMenuDropDown-IconUp"})),i.createElement("div",{style:{display:""+r}},n))},C=n(310859),N=n.n(C),A=n(17693),x=(e,t)=>e&&t?(e+"_"+t).toLowerCase():t?t.toLowerCase():e?e.toLowerCase():"",k=(e,t)=>e.reduce(((e,t)=>t.children?[...e,...t.children]:[...e,t]),[]).findIndex((e=>e.elementId===t.elementId))+1,I=n(571341),T=e=>{var t=(e,t)=>{"Tab"!==t.key||t.shiftKey||e&&(t.preventDefault(),e.focus())},n=(e,t,n)=>{"Tab"===n.key&&n.shiftKey&&e===document.activeElement&&t&&(n.preventDefault(),t.focus())};(0,i.useEffect)((()=>{var a,r=null!==(a=document.getElementById("SiteMenu-Header--Button--Back"))&&void 0!==a?a:document.getElementById("SiteMenuContent--CloseButton-A11Y-FOCUS-ID"),i=(e=>{var t,n,a,r,i="",o="SiteMenu-ClickableLink--",s="",l=(null==e||null===(t=e.children)||void 0===t?void 0:t.length)>0;if((null==e||null===(n=e[(null!==(r=null==e?void 0:e.length)&&void 0!==r?r:1)-1])||void 0===n||null===(a=n.children)||void 0===a?void 0:a.length)>0){var c,u=e[e.length-1];s=null==u?void 0:u.title,i=null===(c=u.children[u.children.length-1])||void 0===c?void 0:c.title}else if(l){var d;i=null===(d=e.children[e.children.length-1])||void 0===d?void 0:d.title}else{var m;i=null===(m=e[e.length-1])||void 0===m?void 0:m.title}return o+=s.length>0?M(s)+"--"+M(i):""+M(i),document.getElementById(o)})(e);return i&&i.addEventListener("keydown",(e=>t(r,e))),r&&r.addEventListener("keydown",(e=>n(r,i,e))),()=>{r&&r.removeEventListener("keydown",n),i&&i.removeEventListener("keydown",t)}}),[e])},R=e=>{(0,i.useEffect)((()=>{var t=(e=>{var t,n,a,r,i="",o="SiteMenu-ClickableLink--",s="",l=(null==e||null===(t=e.children)||void 0===t?void 0:t.length)>0;if((null==e||null===(n=e[(null!==(r=null==e?void 0:e.length)&&void 0!==r?r:1)-1])||void 0===n||null===(a=n.children)||void 0===a?void 0:a.length)>0){var c,u=e[0];s=null==u?void 0:u.title,i=null===(c=u.children[0])||void 0===c?void 0:c.title}else if(l){var d;i=null===(d=e.children[0])||void 0===d?void 0:d.title}else{var m;i=null===(m=e[0])||void 0===m?void 0:m.title}return o+=s.length>0?M(s)+"--"+M(i):""+M(i),document.getElementById(o)})(e);null==t||t.focus()}),[e])},L=e=>{var{usageContext:t,index:n,componentName:a}=e;return{type:"SEAMLESS_NAVIGATE_NO_NAVIGATION",payload:{itemIndex:n+1,destination:"/",usageContext:t,metricsKey:"ExposedMenu/navigation",componentName:a}}},D=e=>Array.isArray(e)&&e.length>0;const P=(0,i.forwardRef)(((e,t)=>{var{secondOrThirdMenu:n,secondMenu:a,setIsMainMenu:r,closeModal:o,handleOnClickToSubMenu:s,mainMenu:c}=e,[u,d]=(0,i.useState)(!1),m=n.children,p=N()([],"children.[0].children[0].children",n).length>0;T(p?n:m),R(p?n:m),(0,i.useImperativeHandle)(t,(()=>({handleBackButton(){u?(s(a),d(!1)):r(!0)}})));var h=(0,l.useDispatch)();return i.createElement(i.Fragment,null,i.createElement("div",{className:"pt-16"},i.createElement(A.A,{size:"l",tag:"div",className:"ml-16 pt-12 font-bold secondOrThirdMenu-Title"},n.title),i.createElement("div",{className:"SubSiteMenu-SubList py-8"},!p&&(null==m?void 0:m.length)&&(null==m?void 0:m.map((e=>i.createElement("div",{key:""+e.title},i.createElement("div",{className:"pl-16 py-8"},D(null==e?void 0:e.children)&&i.createElement(A.A,{size:"l",className:"font-bold SiteMenuSubTitle"},e.title),i.createElement("nav",null,(D(null==e?void 0:e.children)?e.children:[e]).map((t=>i.createElement(I.A,{key:t.title+":"+t.url,tabIndex:0,implied:!0,size:"l","data-testid":"SiteSubSubMenu-SeamlessLink",id:D(null==e?void 0:e.children)?"SiteMenu-ClickableLink--"+M(null==e?void 0:e.title)+"--"+M(t.title):"SiteMenu-ClickableLink--"+M(t.title),className:"SiteMenu-LinkV2 block bg-primary text-primary SiteMenuSubContent",to:t.url,payload:{componentName:c,itemIndex:k(m,t),destination:t.url,dataClassification:"Highly Private Linked Personal Information",metricsKey:"SiteMenu/navigation",metricsModifier:"navigation",usageContext:x(a.title===n.title?a.title:x(a.title,n.title),t.title),skipV0:!0},onClick:o},t.title))))))))),p&&(null==m?void 0:m.map(((e,t)=>i.createElement("button",{type:"button",key:e.title+":"+e.url,"data-testid":"SiteMenu-ClickableLink-"+e.title,id:"SiteMenu-ClickableLink--"+M(e.title),className:"SiteMenu-ButtonV2 bg-primary pl-16  body-l not-italic text-left w-full hover:underline flex justify-between SiteMenuSubContent SiteMenuSubContent-subcategory",onClick:()=>{s(e),h(L({usageContext:x(n.title,e.title),index:t,componentName:c})),d(!0)},"aria-label":e.title+" button menu, press space to activate the \n                menu then navigate with arrow keys."},e.title,i.createElement(E.r,{"aria-hidden":"true",role:"presentation",className:"SiteMenuContent-rightArrow float-right mr-16",size:"s"}))))))))}));var O=(e,t,n)=>{if(document){var a=document.querySelector(e);a&&("scrollTo"in a?a.scrollTo(t,n):a.scrollTop=0)}},B=n(500329),H=(0,p.A)()((e=>{var t,n,{closeModal:a,data:r}=e,o=(null==r||null===(t=r.menu)||void 0===t||null===(n=t.children[0])||void 0===n?void 0:n.children)||[];return T(o),i.createElement("div",{className:"SiteMenuMobile-QuickLinks pb-64 py-8","data-testid":"SiteMenuMobile-QuickLinks"},null==o?void 0:o.map(((e,t)=>{var n;return i.createElement(I.A,{key:e.title+":"+e.url,implied:!0,size:"l",className:"SiteMenu-LinkV2 block pl-16 text-primary SiteMenuSubContent",to:e.url,onClick:a,"data-testid":"SiteMenuMobile-QuickLinks-"+e.title,id:"SiteMenu-ClickableLink--"+M(e.title),payload:{componentName:"menu",destination:e.url,itemIndex:t+1,metricsKey:"SiteMenu/quicklinks",metricsModifier:"navigation",usageContext:null==e||null===(n=e.title)||void 0===n?void 0:n.toLowerCase(),dataClassification:"Highly Private Linked Personal Information",skipV0:!0}},e.title)})))})),_=e=>{var t=(0,l.useSelector)(B.M);return i.createElement(H,(0,a.A)({type:"navigation",version:"1.0.0",id:t?"marquee-bar":"quicklinks-menu"},e))},U=(e,t)=>!e;const K=e=>{var{links:t,isMainMenu:n,setIsMainMenu:a,closeModal:r,isOpen:o,subMenuRef:s}=e,c=(0,l.useSelector)(d.qo),[u,m]=(0,i.useState)(),[p,h]=(0,i.useState)(),[v,y]=(0,i.useState)(),f=e=>"show more"===e.title.trim().toLowerCase();(0,i.useEffect)((()=>{var e,t;o&&(null===(e=document)||void 0===e||null===(t=e.getElementById("SiteMenuContent--CloseButton-A11Y-FOCUS-ID"))||void 0===t||t.focus())}),[o]);var g=(0,l.useDispatch)(),S=e=>{var t;a(!1),0!==(null==e||null===(t=e.children)||void 0===t?void 0:t.length)&&m(e),O(".SiteMenuContent",0,0)},b=e=>{if(!e.children)return[];if(!(e=>{var t;return null==e||null===(t=e.children)||void 0===t?void 0:t.some(f)})(e))return e.children;var t=e.children.findIndex(f);return e.children.slice(0,t)};return U(n)&&U(n)?i.createElement("div",{className:"SiteMenu-SubLinksV2"},i.createElement(P,{setIsMainMenu:a,closeModal:r,secondOrThirdMenu:u,secondMenu:p,handleOnClickToSubMenu:S,ref:s,mainMenu:v})):i.createElement(i.Fragment,null,i.createElement("ul",{className:"SiteMenu-ListContent".concat(c?" pl-0 pt-8 mt-0 pb-2":""),"data-testid":"SiteMenuContentContainer"},t&&t.map(((e,t)=>{return e.children&&i.createElement(w,{title:e.title,index:t},(n=b(e),a=e.title,n.map(((e,t)=>{return"submenu"===(null==(n=e)?void 0:n.type)?i.createElement("button",{type:"button",key:e.title+":"+e.url,"data-testid":"SiteMenu-ClickableLink-"+e.title,id:"SiteMenu-ClickableLink--"+M(e.title),className:"bg-primary pl-32 not-italic text-left w-full text-primary hover:underline SiteMenuSubContent SiteMenuSubContent-button flex justify-between ",onClick:()=>{y(a),S(e),h(e),g(L({usageContext:e.title.toLowerCase(),index:t,componentName:a}))},"aria-label":""+e.title},e.title,i.createElement(E.r,{"aria-hidden":"true",role:"presentation",className:"SiteMenuContent-rightArrow float-right mr-16",size:"s"})):i.createElement(I.A,{implied:!0,size:"l",tabIndex:0,key:e.title+":"+e.url,id:"SiteMenu-ClickableLink--"+M(e.title),className:"block bg-primary pl-32 SiteMenuSubContent text-primary SiteMenuSubContent-button",to:e.url,payload:{componentName:"menu",itemIndex:t+1,destination:e.url,metricsKey:"SiteMenu/navigation",metricsModifier:"navigation",usageContext:x(a,e.title),dataClassification:"Highly Private Linked Personal Information",skipV0:!0},onClick:r},e.title);var n}))));var n,a}))),c?i.createElement(_,{closeModal:r}):null)};var q=n(792677),F=n(82960),Q=e=>{var{isHidden:t,menuTitle:n,numberOfHideableSections:a}=e,r=Boolean(t).toString();return a>=2&&(r+="_"+n.toLowerCase()),{componentName:"menu",usageContext:"toggle it",toggledState:r}};const V=(0,l.connect)(null,(e=>({sendShowMoreLessAnalytics:t=>{var{isHidden:n,menuTitle:a,numberOfHideableSections:r}=t;e({type:"SITE_MENU/SHOW_MORE_LESS",payload:Q({isHidden:n,menuTitle:a,numberOfHideableSections:r})})}})));var W=e=>{var{isMainMenu:t,handleBack:n}=e;return i.createElement("div",{className:"SiteMenuHeaderV2 border-brand-more-prominent mt-8"},i.createElement("div",{className:"SiteMenuWelcomeV2 flex items-center"},t?i.createElement("span",{"data-testid":"SiteMenu-Header--Button--Menu",id:"SiteMenu-Header--Button--Menu",className:"text-primary SiteMenuWelcomeButton heading-l ml-12 my-12 font-secondary"},"Menu"):i.createElement(v.Ay,{className:"buttonStyledAsLink heading-l kds-Link kds-Link--implied text-primary SiteMenuWelcomeButton heading-l mt-8 mb-8 pl-16 font-secondary",tabIndex:0,id:"SiteMenu-Header--Button--Back",onClick:n},i.createElement(y.i,{"aria-hidden":"true",role:"presentation",className:"SiteMenuContent-rightArrow float-right mr-16","data-testid":"SiteMenu-Header--Button--Back",size:"l"}),"Back")))};const G=(0,F.compose)(q.Z,V,(0,l.connect)((e=>({headerPallette:(0,m.Zj)(e)}))))((e=>{var{links:t,isAuthenticated:n,firstName:a,navigateSignIn:r,sendShowMoreLessAnalytics:o,headerPallette:s}=e,{menuItemHover:l,navigationBar:c,accentText:d}=s,[m,p]=(0,i.useState)(!1),y=(0,i.useRef)(),[E,S]=(0,i.useState)(!0),[b,M]=(0,i.useState)(!0),w=m?"SiteMenu-open":"",C=()=>{var e;p(!1),S(!1),M(!0),e=document.body.style.top,document.body.style.position="",document.body.style.top="",window.scrollTo(0,-1*parseInt(e||"0")),document&&document.querySelector(".SiteMenuContentV2")&&O(".SiteMenuContentV2",0,0),document.getElementById("SiteMenu-HamburgerMenu--Button-A11Y-FOCUS-ID").focus()},[N,A]=(0,i.useState)(!1);if((0,i.useEffect)((()=>{var e,t;null!==(e=document)&&void 0!==e&&null!==(t=e.body)&&void 0!==t&&t.querySelector(".noscript-link")||A(!0)}),[]),!t)return i.createElement("div",{className:"KrogerHeader-Item m-auto"});return i.createElement("div",{role:"presentation",className:"w-40 h-40",onKeyDown:e=>{"Escape"===e.key&&C()}},i.createElement("button",{type:"button","aria-label":"Menu",className:u()("HamburgerMenu__Button rounded-medium h-40 p-4",l,c,d),onClick:()=>{p(!m),S(!m)},"aria-expanded":m?"true":"false","data-testid":"SiteMenu-HamburgerMenu--Button",id:"SiteMenu-HamburgerMenu--Button-A11Y-FOCUS-ID"},i.createElement("noscript",null,i.createElement(f.A,{implied:!0,href:"/html-sitemap",className:"noscript-link",onClick:e=>e.preventDefault(),"aria-label":"html-sitemap"},i.createElement(h.R,{"aria-hidden":"true",size:"l",className:d}))),N&&i.createElement(h.R,{"aria-hidden":"true",size:"l",className:d})),i.createElement("div",{"data-testid":"SitemenuContainerV2",className:"SitemenuContainerV2 block inset-0 fixed page-modals "+w},i.createElement("div",{"data-testid":"SiteMenu-background",className:"fixed inset-0 bg-primary-inverse SiteMenu-background "+w,onClick:C,role:"none"}),i.createElement("div",{className:"SiteMenuContentV2 fixed bg-primary overflow-y-auto overflow-x-hidden "+w,"data-testid":"SiteMenu-Content"},i.createElement("div",{className:"flex justify-between"},i.createElement(W,{isAuthenticated:n,firstName:a,navigateSignIn:r,closeModal:C,isMainMenu:b,handleBack:()=>y.current.handleBackButton()}),i.createElement("div",{className:"pt-8 h-56 px-8 sm:inset-0-none sm:static top-0"},i.createElement(v.Ay,{kind:"prominent",palette:"accent",variant:"minimal",onClick:C,onKeyDown:e=>{"Tab"===e.key&&e.shiftKey&&document.getElementById("SiteMenu-Header--Button--Back")&&(e.preventDefault(),document.getElementById("SiteMenu-Header--Button--Back").focus())},className:"float-right","data-testid":"SiteMenuContent--CloseButton",id:"SiteMenuContent--CloseButton-A11Y-FOCUS-ID","aria-label":"Navigation menu close",size:"s",tabIndex:0},i.createElement(g.g,{"aria-hidden":"true"})))),E&&i.createElement(K,{sendShowMoreLessAnalytics:o,closeModal:C,isOpen:m,isMainMenu:b,setIsMainMenu:M,links:t,subMenuRef:y}))))}));var z={LoadingComponent:()=>{var{accentText:e}=(0,l.useSelector)(m.Zj);return i.createElement(h.R,{"aria-hidden":"true",size:"l",className:e})}},j=(0,p.A)(z)((e=>{var t,{data:n}=e,a=null==n||null===(t=n.menu)||void 0===t?void 0:t.children;return i.createElement(G,{links:a})}));const Y=()=>i.createElement("div",{className:"KrogerHeader-SiteMenuV2","data-testid":"site-menu"},i.createElement(j,{className:"SiteMenuV2",type:"navigation",version:"1.0.0",id:"site-menu-v2"}));var X=n(295137),Z=n(604612),J=n(457569),$=n.n(J);const ee=(0,q.Z)((e=>i.createElement("div",{className:"flex flex-col justify-center w-3/5 pt-8"},i.createElement(Z.H,{"aria-hidden":"true",size:"utility-l",className:"WelcomeWrapper-accounticon w-auto"}),i.createElement(A.A,{className:"truncate text-center w-full","data-testid":"MobileMenuPanel-text"},e.firstName))));const te=e=>{(0,i.useEffect)((()=>{document.getElementById("MobileMenuPanel-close-A11Y-FOCUS-ID").focus()}),[]);var t=u()("MobileMenuPanel overflow-y-hidden bg-primary",{"welcome-menu":e.welcomeMenuOpen,"welcome-menu-closed":!e.welcomeMenuOpen});return i.createElement($(),{onSwipedRight:e.closeMenu},i.createElement("div",{className:"inset-0 fixed bg-primary-inverse page-popovers MobileMenuPanelOpen",onClick:e.closeMenu,role:"none"}),i.createElement("div",{className:t,"data-testid":"WelcomeMobileMenuPanel"},i.createElement("div",{className:"MobileMenuPanel-menubar absolute page-crucial top-0 left-0 w-full flex"},i.createElement(v.Ay,{className:"MobileMenuPanel-close border-none left-0 ml-8 h-auto",kind:"prominent",palette:"neutral",variant:"border",type:"button","aria-label":"Close",onKeyDown:function(t){if("Tab"===t.key&&t.shiftKey&&(t.preventDefault(),document.getElementById("MobileMenuPanel-last-element-A11Y-FOCUS-ID").focus()),"Escape"===t.key||" "===t.key)return t.preventDefault(),document.getElementById("WelcomeButton-A11Y-FOCUS-ID").focus(),void e.closeMenu()},onClick:e.closeMenu,id:"MobileMenuPanel-close-A11Y-FOCUS-ID","data-testid":"MobileMenuPanel-close"},i.createElement(g.g,{"aria-hidden":"true",size:"utility-l",className:"MobileMenuPanel-closeIcon"})),i.createElement(ee,null)),i.createElement("div",{className:"MobileMenuPanel-panelContainer px-8","data-testid":"MobileMenuPanel-panelContainer"},e.children)))};const ne=e=>{var{className:t,children:n}=e;return i.createElement("div",{className:"relative flex justify-center","data-testid":"WelcomeDesktopMenuPanel"},i.createElement("div",{className:u()("page-navs absolute p-8",t)},i.createElement("div",{className:"DesktopMenuPanel relative border border-neutral-least-subtle bg-primary whitespace-nowrap p-8","data-testid":"DesktopMenuPanel"},n)))};var ae="topnav",re=(0,q.Z)((e=>{var t,n,{signOut:a,navigateSignIn:r,navigateCreateAccount:o,isAuthenticated:s,data:l,closeAllWelcomeMenus:c,isMobile:u}=e,d=e=>t=>{if("Tab"===t.key&&!t.shiftKey&&e&&(t.preventDefault(),document.getElementById("MobileMenuPanel-close-A11Y-FOCUS-ID").focus()),"Escape"===t.key)return t.preventDefault(),document.getElementById("WelcomeButton-A11Y-FOCUS-ID").focus(),void c()};return i.createElement("ul",{className:"KrogerWelcomeDropdownLinks list-none p-0 m-0"},s?i.createElement("li",{id:"WelcomeMenu-signOut"},i.createElement(v.Ay,{"data-testid":"WelcomeMenuButtonSignOut",className:"my-8 WelcomeMenu-signOut-button",kind:"prominent",palette:"negative",variant:"border",compact:!0,onKeyDown:d(!1),onClick:()=>{c(),a({payload:{componentName:ae,scenarioName:"sign-out",usageContext:"sign out"}})}},"Sign out")):i.createElement(i.Fragment,null,i.createElement("li",{id:"WelcomeMenu-signIn"},i.createElement(v.Ay,{kind:"prominent",palette:"accent",variant:"fill","data-testid":"WelcomeMenuButtonSignIn",className:"mb-4 mt-8 WelcomeMenu-signIn-button",compact:!0,onKeyDown:d(!1),onClick:()=>{c(),r(ae)}},"Sign in")),i.createElement("li",{id:"WelcomeMenu-createAccount"},i.createElement(v.Ay,{"data-testid":"WelcomeMenuButtonCreateAccount",className:"mt-4 mb-8 WelcomeMenu-createAccount-button",kind:"prominent",palette:"accent",variant:"border",compact:!0,onKeyDown:d(!1),onClick:()=>{c(),o({componentName:ae,teamName:"CT-Golden Compass"})}},"Create Account"))),null==l||null===(t=l.menu)||void 0===t||null===(n=t.children)||void 0===n?void 0:n.map(((e,t)=>{var n=t===l.menu.children.length-1,a=u&&n;return i.createElement("li",{key:e.elementId,id:"WelcomeMenu-"+e.elementId},i.createElement(I.A,{"data-testid":"WelcomeMenuLinkCreateAccount-"+e.elementId,className:"p-8 block text-primary",size:"m",implied:!0,to:e.url,onKeyDown:d(a),id:a?"MobileMenuPanel-last-element-A11Y-FOCUS-ID":void 0,onClick:c,payload:{componentName:"topNav",itemIndex:t+(s?1:2),metricsKey:"WelcomeDesktop/navigation",metricsModifier:"navigation",title:e.title,usageContext:e.title.toLowerCase(),dataClassification:"Highly Private Linked Personal Information",skipV0:!0}},e.title))})))}));const ie=(e,t)=>{var n=t||e.displayName,a=t=>i.createElement("div",{className:"KrogerHeader-ItemV2 KrogerHeader-"+n},i.createElement(e,t));return a.displayName=e.displayName+"Container",i.memo(a)};class oe extends i.Component{constructor(e){super(e),this.handleClickOutsideWelcomeModal=e=>{var{hasBeenOpenedDesktop:t}=this.state;t&&this.welcomePanelRef&&!this.welcomePanelRef.current.contains(e.target)&&this.hideAccountMenuDesktop()},this.state={hasBeenOpenedMobile:!1,hasBeenOpenedDesktop:!1},this.welcomePanelRef=i.createRef()}hideAccountMenuMobile(){this.setState({hasBeenOpenedMobile:!1})}showAccountMenuMobile(){this.setState({hasBeenOpenedMobile:!0})}hideAccountMenuDesktop(){this.setState({hasBeenOpenedDesktop:!1})}showAccountMenuDesktop(){this.setState({hasBeenOpenedDesktop:!0})}componentDidMount(){document.addEventListener("click",this.handleClickOutsideWelcomeModal)}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutsideWelcomeModal)}render(){var{hasBeenOpenedMobile:e,hasBeenOpenedDesktop:t}=this.state,n=()=>e&&this.hideAccountMenuMobile(),r=()=>t&&this.hideAccountMenuDesktop(),o=()=>{r(),n()},{accentBackground:s,accentText:l,accentTextInverse:c,menuItemHover:d,navigationBar:m}=this.props.headerPallette;return i.createElement(i.Fragment,null,this.props.isMobile?i.createElement("button",{type:"button",className:u()("Welcome-button--mobileV2 rounded-medium p-4",m,l,d),id:"WelcomeButton-A11Y-FOCUS-ID","data-testid":"WelcomeButtonMobile",onClick:()=>this.showAccountMenuMobile(),"aria-label":"Account Menu","aria-expanded":e?"true":"false"},i.createElement(Z.H,{"aria-hidden":"true",className:"WelcomeWrapper-accounticon "+l,size:"utility-l"})):i.createElement("div",{className:u()("Welcome-container--desktopV2 block max-w-ll-narrow my-8 relative self-center",{"pr-16":this.props.hideBasket}),ref:this.welcomePanelRef},i.createElement("button",{type:"button",id:"WelcomeButton-A11Y-FOCUS-ID",className:u()("Welcome-button--desktopV2 pl-8 pr-16 py-8 flex rounded-medium",d,{[c+" "+s]:t,[m+" "+l]:!t}),"data-testid":"WelcomeButtonDesktop","aria-expanded":t?"true":"false",onClick:()=>t?this.hideAccountMenuDesktop():this.showAccountMenuDesktop()},i.createElement(Z.H,{"aria-hidden":"true",size:"utility-l",className:"block mx-auto",alt:"Account Menu"}),i.createElement(A.A,{className:"font-medium"},this.props.firstName||(this.props.isAuthenticated?"Account":"Sign In")),i.createElement(S.r,{"aria-hidden":"true",className:u()("WelcomeMenu-dropdown-icon bottom-0",{"WelcomeMenu-dropdown-icon--up":t}),size:"utility-s"})),t&&i.createElement(ne,{className:this.props.hideBasket&&(this.props.isAuthenticated?"pr-48":"pr-32")},i.createElement(re,(0,a.A)({},this.props,{closeAllWelcomeMenus:o})))),e&&i.createElement(te,{welcomeMenuOpen:e,closeMenu:n},i.createElement(re,(0,a.A)({},this.props,{closeAllWelcomeMenus:o}))))}}var se=(0,l.connect)((e=>({headerPallette:(0,m.Zj)(e)})))((0,q.Z)(oe));se.displayName="Welcome";var le=(0,p.A)()(se);const ce=ie((e=>i.createElement(le,(0,a.A)({type:"navigation",version:"1.0.0",id:"welcome-menu",forceAmpRerender:!0},e))),"Welcome");var ue=n(310467),de=n(738221),me=n.n(de),pe=n(956347),he=n(800064),ve=n(236157),ye=n(141541),fe=n(412662),ge=n(283754),Ee=n(432521),Se=n(55475),be=n(975823),Me=n(40792),we=n(698435),Ce=n(267347),Ne=n(212e3),Ae=n(630085),xe=n(410065),ke=n(801081),Ie=n(960010),{fetchAmpAsset:Te,selectAmpAssetData:Re}=(0,Ie.A)({type:"searchredirect",version:"1.0.0",id:"redirects"}),Le=[],De=(0,ke.createSelector)(Re,(e=>{var{data:t}=e;return(null==t?void 0:t.redirects)||Le})),Pe=(0,ke.createSelector)(De,(e=>function(e){return void 0===e&&(e=[]),e.reduce(((e,t)=>{var{term:n,url:a,abTest:r}=t;return e[null==n?void 0:n.toLowerCase()]=r?((e,t)=>null==e?void 0:e.reduce(((e,n)=>(e[n.id]=((e,t)=>{var n;return null==e||null===(n=e.variants)||void 0===n?void 0:n.reduce(((e,n)=>(e[n.variant]=n.url||t,e)),{})})(n,t),e)),{url:t}))(r,a):{url:a},e}),{})}(e))),Oe=n(562478),Be=n(572195),He=n(85030),_e=n(961960),Ue=n(696873),Ke=n(425885),qe=n(519654),Fe=n(145929),Qe=n(879904),Ve=n(421391),We=n(763457),Ge=n(960557),ze=n(315249),je=n(482049),Ye=n(410908),Xe=e=>{var{term:t,query:n}=e,{startingPart:a,endingPart:r}=((e,t)=>{var n=e.indexOf(t.toLowerCase()),a=n+t.length;return{startingPart:e.substring(0,n),endingPart:e.substring(a)}})(t,n);return i.createElement(i.Fragment,null,a,i.createElement("span",{className:"font-normal","data-testid":"PredictiveLayerLabel-text-query"},n.toLowerCase()),r)},Ze=e=>{var{children:t,className:n,ariaLabel:a,isMobileOrTablet:r}=e;return i.createElement(A.A,{className:"PredictiveLayerLinkText "+n,"aria-label":a,size:r?"l":"m","data-testid":"PredictiveLayerLabel-text"},t)},Je=e=>{var{term:t,query:n,ariaLabel:a,isMobileOrTablet:r}=e,o=n.length>0&&t.includes(n.toLowerCase());return i.createElement(Ze,{className:o?"font-bold":"font-normal",ariaLabel:a,isMobileOrTablet:r},o?i.createElement(Xe,{term:t,query:n}):t)},$e=n(389309),et=e=>({[Se.NV.SUGGESTION]:Ce.Cp.SUGGESTION,[Se.NV.TRENDING]:Ce.Cp.TRENDING,[Se.NV.PREVIOUS_SEARCH]:Ce.Cp.PREVIOUS_SEARCH,[Ce.Cp.DEFAULT_SEARCH]:Ce.Cp.DEFAULT_SEARCH,[Se.NV.NO_SUGGESTION]:Ce.Cp.NO_SUGGESTIONS,[Se.NV.WHATS_NEXT]:Ce.Cp.WHATS_NEXT}[e]),tt=e=>({[Se.NV.SUGGESTION]:$e.Gq.SUGGESTIONS,[Se.NV.TRENDING]:$e.Gq.TRENDING,[Se.NV.PREVIOUS_SEARCH]:$e.Gq.PREVIOUS_SEARCHES,[Se.NV.WHATS_NEXT]:$e.Gq.WHATS_NEXT}[e]),nt=(0,s.compose)((0,s.setDisplayName)("PredictiveLayerLink"),(0,s.defaultProps)({className:"PredictiveLayerLink","data-testid":"SearchBar-dropdown-link"}),(0,s.withProps)((e=>{var{term:{value:t,type:n},getRedirectForQuery:r}=e,i=r(t);if(i)return{to:i};var o=et(n),s=(0,l.useSelector)(he.useCases.modalityPreferences.selectors.getActiveModalityType),c=(0,l.useSelector)(he.useCases.modalityPreferences.selectors.async),u=(0,l.useSelector)(Be.q$),d=null!=c&&c.loaded&&s?(0,Ne.Vi)(s):"";return{to:(0,we.ip)((0,a.A)({query:t,searchType:o},u&&{fulfillment:d}))}})),(0,s.withHandlers)({onClick:e=>{var{handleUpdatePreviousSearches:t,hideDropdown:n,inputUpdater:r,metricsPayload:i,prepopulateInternalSearch:o,getRedirectForQuery:s,searchRedirectOmniture:l,setPredictiveSelection:c,setPreviousQuery:u,term:{value:d,type:m}}=e;return()=>{n();var e=s(d);if(e)l((0,a.A)({},i,{searchType:Ce.Cp.REDIRECT,searchRedirect:e,payloadIdentification:{producedBy:ze.g.Search}}));else{var p=et(m);o((0,a.A)({},i,{searchType:p}));var h=tt(m);c({predictiveComponent:h,predictiveSelection:d})}r(d),t(d),u(d)}}}),(0,s.mapProps)((e=>{var{implied:t,className:n,children:a,to:r,onClick:i,"data-testid":o}=e;return{implied:t,className:n,children:a,to:r,onClick:i,"data-testid":o}})))(I.A);function at(e,t){return e.findIndex((e=>e.query===t))}var rt=e=>{var{handleHideDropdown:t,prepopulateInternalSearch:n,searchRedirectOmniture:a,handleUpdatePreviousSearches:r,query:o,textTyped:s,handleInputUpdater:l,getRedirectForQuery:c,isMobileOrTablet:u,nextQueries:d,setPredictiveSelection:m,setPreviousQuery:p}=e,h=(0,i.useMemo)((()=>{var e=(0,Ae.KJ)(),t=new Set(e),n=d.filter((e=>!t.has(e.query)));return n.slice(0,5)}),[d]);return i.createElement("ul",{"data-testid":"WhatsNext_link_list"},h.map((e=>i.createElement("li",{key:e.query},i.createElement(nt,{implied:!0,"data-testid":"SearchBar-dropdown-link",term:{value:e.query,type:Se.NV.WHATS_NEXT},noRouter:!0,hideDropdown:t,prepopulateInternalSearch:n,handleUpdatePreviousSearches:r,searchRedirectOmniture:a,metricsPayload:{componentName:Ce.EA.INTERNAL_SEARCH,usageContext:"search",searchTerm:e.query,textTyped:s,predictiveOption:Ce.OE.WHATS_NEXT,itemIndex:at(d,e.query)+1},inputUpdater:l,getRedirectForQuery:c,setPredictiveSelection:m,setPreviousQuery:p,className:"block"},i.createElement(Ye.N,{"aria-hidden":"true",size:"xs",className:"mr-4 text-accent-more-prominent","data-testid":"NextQuery-icon"}),i.createElement(Je,{term:e.query,query:o,ariaLabel:"What's next? "+e.query,isMobileOrTablet:u}))))))},it=n(748528),ot=n(295414),st=n(119269),lt=e=>{var{maxItems:t,useCase:n}=e;return i.createElement(ot.A,{useCase:n,className:"PredictiveLayer-carousel",keySpace:"predictive-layer-pzn",max:t,shouldShowEmptyState:!1,productCardType:"carousel",mode:st.Ho,gridName:"Top Picks for You",plaTarget:it.ProductPlacements.Core.DidYouForgetTargets.PREDICTIVE})},ct=n(988783),ut=e=>{var{previousSearches:t,prepopulateInternalSearch:n,hideDropdown:r,inputUpdater:o,getRedirectForQuery:s,searchRedirectOmniture:l,handleUpdatePreviousSearches:c,textTyped:u,setPredictiveSelection:d,setPreviousQuery:m}=e,p={componentName:Ce.EA.INTERNAL_SEARCH,usageContext:"search",predictiveOption:Ce.OE.HISTORICAL};return t&&i.createElement("ul",{className:"PreviousSearches","data-testid":"SearchBar-previousSearches"},t.map(((e,t)=>i.createElement("li",{key:e,className:"PredictiveLayerLink PreviousSearchLink"},i.createElement(nt,{implied:!0,term:{value:e,type:Se.NV.PREVIOUS_SEARCH},hideDropdown:r,prepopulateInternalSearch:n,searchRedirectOmniture:l,metricsPayload:(0,a.A)({},p,{searchTerm:e,textTyped:u,itemIndex:t+1}),inputUpdater:o,getRedirectForQuery:s,handleUpdatePreviousSearches:c,setPredictiveSelection:d,setPreviousQuery:m,className:"block"},i.createElement(A.A,{"aria-label":"Previous Search "+e,className:"font-normal PredictiveLayerLinkText",size:"m"},i.createElement(ct.g,{"aria-hidden":"true",className:"mr-4",size:"xs"}),e))))))},dt=n(756732),mt=()=>{},pt=e=>{var{handleInputChange:t,handleSubmit:n,handleHideDropdown:a,handleShowDropdown:r,handleTabKeyDown:o,query:s,showDropdown:l,searchInputRef:c,predictiveQueryRef:u}=e;return i.createElement(i.Fragment,null,i.createElement(dt.A,{id:l?"SearchBar-input-open":"SearchBar-input",placeholder:"Search Products","aria-label":"Search","data-testid":"SearchBar-input",onChange:t,title:"Search",ref:c,onSearch:(0,we.xs)(s)?mt:n,value:s,onKeyDown:e=>{o(),"Tab"===e.key&&e.shiftKey&&a()},onFocus:r,role:"combobox","aria-expanded":l}),i.createElement("div",{className:"predictiveQuery",ref:u,"data-testid":"predictiveQuery"}))},ht=n(440961),vt=()=>{var e,t,n,a=(0,i.useRef)(null===(e=document)||void 0===e?void 0:e.createElement("div")),r=(0,i.useRef)(null===(t=document)||void 0===t?void 0:t.createElement("div")),o=(0,i.useRef)(null===(n=document)||void 0===n?void 0:n.createElement("div")),s=(0,i.useMemo)((()=>[{ref:a,selector:".Page"},{ref:r,selector:".KrogerHeader"},{ref:o,selector:".Page-top-block"}]),[]);return(0,i.useEffect)((()=>{var e=s.map((e=>{var t,{ref:n,selector:a}=e,r=n.current,i=null===(t=document)||void 0===t?void 0:t.querySelector(a);return r.className="SearchOverlay",i&&i.prepend(r),{parent:i,element:r}}));return()=>{e.forEach((e=>{var{parent:t,element:n}=e;t&&t.removeChild(n)}))}}),[s]),i.Fragment,o.current,i.Fragment,r.current,(0,ht.createPortal)(i.createElement(i.Fragment,null),a.current)},yt=n(839770),ft=n(431979),gt=n(373528),Et=e=>{var{metricsPayload:t,handleUpdatePreviousSearches:n,hideDropdown:r,inputUpdater:o,setPreviousQuery:s,parentSuggestionIndex:c,term:{categories:u,value:m,type:p}}=e,h=(0,l.useDispatch)(),v=(0,l.useSelector)(d.qo),y=e=>()=>{r();var i=et(p);h((0,Ke.bV)((0,a.A)({},t,{searchType:i,itemIndex:c+e+1,payloadIdentification:{producedBy:ze.g.Search}})));var l=tt(p);h((0,Fe.O)({predictiveComponent:l,predictiveSelection:m})),o(m),n(m),s(m)},f=et(p);return u.length>0?i.createElement("ul",{"data-testid":"CategorySuggestionsList",className:"ml-16 pl-4 mb-8"},u.map(((e,t)=>i.createElement("li",{key:m+"-"+e.id,"data-testid":m+"-"+e.id},i.createElement(I.A,{className:"CategorySuggestionLink block",implied:!0,to:(0,gt.V)({taxonomyId:e.id,slug:e.slug,query:m,searchType:f}),onClick:y(t)},i.createElement(A.A,{className:"text-brand-less-prominent",size:v?"l":"m"},"in ",i.createElement(A.A,{bold:!0},e.name))))))):null},{TRENDING:St,SUGGESTION:bt}=Ge.a7,Mt=e=>{var{terms:t,handleHideDropdown:n,prepopulateInternalSearch:r,textTyped:o,query:s,inputUpdater:c,getRedirectForQuery:u,searchRedirectOmniture:d,handleUpdatePreviousSearches:m,spellingCorrection:p,isMobileOrTablet:h,setPredictiveSelection:v,setPreviousQuery:y}=e,f={componentName:Ce.EA.INTERNAL_SEARCH,usageContext:"search",textTyped:o},g=(0,l.useSelector)(Oe.Pd);return i.createElement("ul",{className:"TrendingAndSuggestions","data-testid":"TrendingAndSuggestions"},t.map((e=>{var o=e.type===bt?Ce.OE.AUTOCOMPLETE:Ce.OE.TRENDING,l=e.type===St,E=((e,t)=>t.filter((t=>t.type===e.type)).reduce(((e,t)=>(e.push(t.value),0!==t.categories.length?e.concat(t.categories.map((e=>e.id))):e)),[]).findIndex((t=>t===e.value))+1)(e,t);return i.createElement("li",{key:e.value,className:"TrendingOrSuggestionLink"},i.createElement(nt,{implied:!0,term:e,hideDropdown:n,prepopulateInternalSearch:r,handleUpdatePreviousSearches:m,searchRedirectOmniture:d,metricsPayload:(0,a.A)({},f,{searchTerm:e.value,predictiveOption:o,itemIndex:E}),inputUpdater:c,getRedirectForQuery:u,setPredictiveSelection:v,setPreviousQuery:y,className:"block"},l?i.createElement(yt.L,{"aria-hidden":"true",size:"xs",className:"mr-4","data-testid":"IconTrending"}):i.createElement(ft.C,{"aria-hidden":"true",size:"xs",className:"mr-4","data-testid":"IconSuggestion"}),i.createElement(Je,{term:e.value,query:p||s,ariaLabel:Se.NV[e.type].toLowerCase()+" "+e.value,isMobileOrTablet:h})),g&&i.createElement(Et,{handleUpdatePreviousSearches:m,hideDropdown:n,inputUpdater:c,metricsPayload:(0,a.A)({},f,{predictiveOption:o,searchTerm:e.value}),parentSuggestionIndex:E,setPreviousQuery:y,term:e}))})))},{TRENDING:wt,SUGGESTION:Ct}=Ge.a7,Nt=e=>{var{query:t,textTyped:n,refs:a,analyticsActions:r,getRedirectForQuery:o,previousSearches:s,trendingAndSuggestions:l,trendingAndSuggestionsError:c,showDropdown:d,handleHideDropdown:m,handleTabKeyDown:p,handleEscape:h,handleSubmit:y,handleClearQuery:f,handleInputUpdater:E,handleUpdatePreviousSearches:S,handleInputChange:b,handleShowDropdown:M,isMobileOrTablet:w,nextQueries:C,isAuthenticated:N,onBlur:x,predictiveLayerPZNCarouselMaxItems:k,predictiveLayerPZNCarouselUseCase:I,setPredictiveSelection:T,setPreviousQuery:R,suggestionsMinChars:L}=e,D=C.length>0&&(t.length<L||t.length>=L&&(null==l?void 0:l.type)===wt),P=null==l?void 0:l.items,O=!D&&!c&&P&&P.length>0,B=e=>!D&&!c&&P&&0===P.length&&(null==l?void 0:l.type)===e,H=(0,Ae.VS)()&&s.length>0,_=(null==l?void 0:l.type)===wt||t.length<L,U=0===t.length&&N,K=()=>{},q=D?"What's Next?":_?"Trending":"Suggestions",F=!c||(0,we.xs)(t)||D;return i.createElement("div",{className:u()("SearchBar",{showDropdown:d}),"data-testid":"SearchBar",onKeyDown:h,ref:a.searchRef},d&&i.createElement(vt,null),i.createElement("form",{onSubmit:(0,we.xs)(t)?K:y,action:"/search",role:"search",autoComplete:"off"},i.createElement("div",{className:u()({showDropdown:d,query:t},"searchInputWrapper")},i.createElement(pt,{showDropdown:d,query:t,searchInputRef:a.searchInputRef,handleInputChange:b,handleSubmit:(0,we.xs)(t)?K:y,handleHideDropdown:m,handleShowDropdown:M,handleTabKeyDown:p,predictiveQueryRef:a.predictiveQueryRef}),i.createElement(v.Ay,{"aria-label":"Clear Search Term",type:"button",className:u()("SearchBar-clearInputButton text-primary",{hideClearButton:!t}),compact:!0,"data-testid":"SearchBar-clearInputButton",kind:"prominent",palette:"neutral",variant:"fill",inverse:!0,onClick:f,ref:a.clearQueryRef},"Clear"))),i.createElement("div",{className:u()({"SearchBar-dropdown--open":d},"SearchBar-dropdown flex"),"data-testid":"SearchBar-dropdown",ref:a.predictiveLayerRef},i.createElement("div",{className:u()("PredictiveLayer","flex","w-full")},i.createElement("div",{className:u()("PredictiveLayer-options-wrapper")},F&&i.createElement("div",{className:u()("SuggestionsContainer mt-24",{OnlySuggestions:!H})},i.createElement("section",{"aria-label":q+" items"},i.createElement(A.A,{className:"SuggestionsHeading heading-l font-secondary","data-testid":"SuggestionsHeading"},q),D&&i.createElement(rt,{handleHideDropdown:m,prepopulateInternalSearch:r.prepopulateInternalSearch,searchRedirectOmniture:r.searchRedirectOmniture,handleUpdatePreviousSearches:S,setPreviousQuery:R,textTyped:n,query:t,nextQueries:C,handleInputUpdater:E,getRedirectForQuery:o,isMobileOrTablet:w,setPredictiveSelection:T}),P&&O&&i.createElement(Mt,{terms:P,spellingCorrection:null==l?void 0:l.spellingCorrection,handleHideDropdown:m,prepopulateInternalSearch:r.prepopulateInternalSearch,searchRedirectOmniture:r.searchRedirectOmniture,query:t,textTyped:n,inputUpdater:E,getRedirectForQuery:o,handleUpdatePreviousSearches:S,isMobileOrTablet:w,setPredictiveSelection:T,setPreviousQuery:R}),B(Ct)&&i.createElement(je.A,{className:"NoSuggestions "+(H?"mt-8":""),size:"m"},Se.NV.NO_SUGGESTION_ITEMS,i.createElement(nt,{implied:!0,hideDropdown:m,prepopulateInternalSearch:r.prepopulateInternalSearch,getRedirectForQuery:o,searchRedirectOmniture:r.searchRedirectOmniture,handleUpdatePreviousSearches:S,metricsPayload:{componentName:Ce.EA.INTERNAL_SEARCH,usageContext:"search",searchTerm:t,textTyped:n,predictiveOption:(null==l?void 0:l.type)===Ct?Ce.OE.AUTOCOMPLETE:Ce.OE.TRENDING,itemIndex:1},inputUpdater:E,term:{value:t,type:Se.NV.NO_SUGGESTION},setPreviousQuery:R},i.createElement(A.A,{className:"font-bold underline",size:"m","aria-label":Se.NV.NO_SUGGESTION_ITEMS+'"'+t+'"',"data-testid":o(t)?"TrendingOrSuggestion-NoSuggestionsRedirect":"TrendingOrSuggestion-NoSuggestionsSearch"},'"',t,'"'))),B(wt)&&i.createElement(je.A,{className:"NoSuggestions text-neutral-more-prominent inline "+(H?"mt-8":""),size:"m"},Se.NV.NO_TRENDING_ITEMS),c&&(0,we.xs)(t)&&i.createElement(je.A,{className:"text-neutral-more-prominent inline "+(H?"mt-8":""),size:"m"},Se.NV.ERROR_QUERY_TOO_MANY_TERMS))),H&&i.createElement("div",{className:"PreviousSearchesWrapper mt-24"},i.createElement("section",{className:"PreviousSearchesContainer","aria-label":"Previous Searches"},i.createElement(i.Fragment,null,i.createElement(A.A,{className:"SearchBarPreviousSearchesHeader heading-l font-secondary","data-testid":"SearchBar-previous-searches-header"},"Previous Searches"),i.createElement(ut,{previousSearches:s,hideDropdown:m,prepopulateInternalSearch:r.prepopulateInternalSearch,searchRedirectOmniture:r.searchRedirectOmniture,inputUpdater:E,getRedirectForQuery:o,handleUpdatePreviousSearches:S,textTyped:n,setPredictiveSelection:T,setPreviousQuery:R}))))),U&&i.createElement(lt,{maxItems:k,useCase:I}),i.createElement(v.Ay,{"aria-label":"Close Search Box",onClick:m,className:"SearchBar-CloseButton","data-testid":"SearchBar-closeButton",inverse:!0,kind:"prominent",palette:"accent",variant:"fill",ref:a.closeButtonRef,type:"button",onKeyDown:p,onBlur:x},i.createElement(g.g,{"aria-hidden":"true",className:"text-accent-more-prominent"})))),d&&i.createElement(v.Ay,{"aria-label":"Close Search Box",onClick:m,className:"SearchBar-CloseButton-mobile","data-testid":"SearchBar-closeButton-mobile",inverse:!0,kind:"prominent",palette:"accent",variant:"fill",type:"button",onKeyDown:p,ref:a.mobileCloseButtonRef,onBlur:x},i.createElement(g.g,{"aria-hidden":"true",className:"text-accent-more-prominent"})))};var At=(e,t)=>{if(function(e){return e&&Object.keys(e).length>1}(t)){var n=Object.keys(t).find((e=>"url"!==e)),a=t[n],r=e.find((e=>(null==e?void 0:e.testID)===n&&e.data.active)),i=a[null==r?void 0:r.variant];return i||null}return t.url},xt=0;class kt extends i.Component{constructor(e){var t;super(e),t=this,this.unsubscribeFromNextQueries=null,this.debounceDurationSet=!1,this.state={previousSearches:[],textTyped:"",previousQuery:"",query:"",suggestions:{},trending:{},suggestionsError:!1,latestSuggestionsRequestId:0,showDropdown:!1,suggestionsQuery:null,cancelled:!1},this.handleInputChange=e=>{if(void 0!==e){var{previousQuery:t}=this.state,n=e.currentTarget.value,a=n.split(t).join("");this.setState({textTyped:a,query:n,cancelled:!1,showDropdown:!0}),this.getTrendingOrSuggestions(n)}},this.getTrendingOrSuggestions=e=>{var{suggestionsMinChars:t}=this.props,n=e.trim();if(n!==this.state.query){var a=n.length<t?"":n;this.getSuggestionsDebounced(a)}},this.getSuggestions=e=>{var{isModalityLoaded:t,noSuggestionsOmniture:n,suggestionsMinChars:a}=this.props;if((0,we.xs)(e))this.setState({suggestionsError:!0});else{var r=e.length>=a,i=!this.isTrendingLoaded();(r||i)&&t?(()=>{var t=xt;xt+=1,this.setState({latestSuggestionsRequestId:t}),(0,Ge._E)({query:e}).then((e=>{if(this.state.latestSuggestionsRequestId===t){var a=(e=>{var{data:{suggestions:t},meta:{suggestions:{resultCount:n,spellingCorrection:a,type:r}}}=e;return{items:t,resultCount:n,spellingCorrection:a,type:r}})(e.data);if(!this.state.cancelled){var r=a.type===Se.NV.TRENDING;this.setState((e=>({trending:r?a:{},suggestions:a,suggestionsError:!1,suggestionsQuery:e.query})))}}0===e.data.data.suggestions.length&&n()})).catch((e=>{this.state.latestSuggestionsRequestId===t&&this.setState({suggestionsError:!0}),(0,be.TX)(e)&&(0,Me.fh)(),(0,Me.ok)(e)}))})():r||this.setState((e=>({suggestions:e.trending})))}},this.isTrendingLoaded=()=>{var e,t;return!!this.state.trending&&(null===(e=this.state.trending)||void 0===e||null===(t=e.items)||void 0===t?void 0:t.length)>0},this.getSuggestionsDebounced=me()(this.getSuggestions,250),this.searchHandler=(e,t)=>{var{activeModalityType:n,isModalityLoaded:r,navigate:i,search:o,prepopulateInternalSearch:s,isModalityInWaysToShopActive:l}=this.props;this.setState({cancelled:!1,suggestionsError:!1,textTyped:"",previousQuery:e}),this.handleUpdatePreviousSearches(e);var c={componentName:Ce.EA.INTERNAL_SEARCH,usageContext:Ce.iI.SEARCH,searchType:Ce.Cp.DEFAULT_SEARCH,searchTerm:e,textTyped:t},u=(0,Ne.Vi)(n);s(c),o((0,a.A)({args:e,baseUrl:"/search",navigate:i},l&&r&&{fulfillment:u}))},this.navigateHandler=(e,t)=>{var{navigate:n,searchRedirectOmniture:a}=this.props;this.handleUpdatePreviousSearches(e),a({componentName:Ce.EA.INTERNAL_SEARCH,usageContext:Ce.iI.SEARCH,searchRedirect:t,searchType:Ce.Cp.REDIRECT,searchTerm:e,textTyped:this.state.textTyped,payloadIdentification:{producedBy:ze.g.Search}}),n(t)},this.findPredictiveFocusableElements=()=>{if("undefined"==typeof document)return[];var e=this.searchInputRef.current?this.searchInputRef.current.inputRef.current:null,t=this.predictiveLayerRef.current?this.predictiveLayerRef.current.querySelectorAll(this.focusableElementsQuerySelector):[];return[e,this.clearQueryRef.current,...Array.from(t)].filter((e=>e&&this.isFocusableElement(e)))},this.getFocusedElementIndex=e=>{var t=0;return e.forEach(((e,n)=>{document.activeElement===e&&(t=n)})),t},this.getNextFocusedElementIndex=(e,t)=>{var n=this.getFocusedElementIndex(e),a=n+t;return n+t===e.length?a=0:n+t<0&&(a=e.length-1),a},this.handleKeyDownOnPredictiveLayer=e=>{if("undefined"!=typeof document&&("ArrowUp"===e.key||"ArrowDown"===e.key)){e.preventDefault();var t="ArrowUp"===e.key?-1:1,n=this.findPredictiveFocusableElements().filter((e=>e!==this.clearQueryRef.current)),a=n[this.getNextFocusedElementIndex(n,t)];a&&a.focus(),a&&this.showPredictiveQuery(a)}},this.showPredictiveQuery=e=>{e.querySelector(".PredictiveLayerLinkText")?this.updatePredictiveQuery(e):this.resetPredictiveQuery()},this.updatePredictiveQuery=e=>{var t,n=null===(t=e.querySelector(".PredictiveLayerLinkText"))||void 0===t?void 0:t.textContent;this.predictiveQueryRef.current&&n&&(this.predictiveQueryRef.current.innerText=n,this.predictiveQueryRef.current.classList.remove("hidePredictiveQuery")),this.searchInputRef.current&&this.searchInputRef.current.inputRef.current&&this.searchInputRef.current.inputRef.current.classList.add("hideInput")},this.resetPredictiveQuery=()=>{this.predictiveQueryRef.current&&(this.predictiveQueryRef.current.innerText="",this.predictiveQueryRef.current.classList.add("hidePredictiveQuery")),this.searchInputRef.current&&this.searchInputRef.current.inputRef.current&&this.searchInputRef.current.inputRef.current.classList.remove("hideInput")},this.handleShowDropdown=()=>{var e,{hideHeaderIcons:t,isModalityLoaded:n}=this.props;t(),this.canGetEmpathySuggestions()&&this.getSuggestions(this.state.query);var a=null===(e=this.predictiveQueryRef.current)||void 0===e?void 0:e.innerText;this.setState((e=>({showDropdown:!0,cancelled:!1,query:a||e.query}))),this.resetPredictiveQuery(),n&&this.loadWhatsNext()},this.handleHideDropdown=()=>{this.state.showDropdown&&this.resetPredictiveQuery(),this.props.showHeaderIcons(),this.setState({showDropdown:!1})},this.onBlur=e=>{"undefined"!=typeof document&&(this.findPredictiveFocusableElements().find((t=>t===e.relatedTarget))||this.handleHideDropdown())},this.clearRefinementInfoFromState=()=>{var{setClearFilters:e,setVisualNavigation:t,updateSelectedRelatedTags:n}=this.props;e(),n([]),t({})},this.getRedirectForQuery=e=>{var{abTestConfigs:t,redirectUrls:n}=this.props,a=n[e.trim().toLowerCase()];return a?At(t,a):null},this.handleSubmit=()=>{var{query:e,textTyped:t}=this.state,{setPredictiveSelection:n}=this.props;if(""!==e){var a=this.getRedirectForQuery(e);a?this.navigateHandler(e,a):this.searchHandler(e,t),this.handleHideDropdown(),this.searchInputRef.current&&this.searchInputRef.current.inputRef.current&&this.searchInputRef.current.inputRef.current.blur(),this.clearRefinementInfoFromState(),n({predictiveComponent:void 0,predictiveSelection:void 0})}},this.handleEscape=e=>{"Escape"===e.key&&(e.preventDefault(),this.handleHideDropdown())},this.handleTabKeyDown=()=>{this.props.isSearchDropdownOpen||this.props.hideHeaderIcons()},this.handleClickAway=e=>{var t,n,a;!this.state.showDropdown||null!=this&&null!==(t=this.searchRef)&&void 0!==t&&null!==(n=t.current)&&void 0!==n&&null!==(a=n.parentNode)&&void 0!==a&&a.contains(e.target)||this.handleHideDropdown()},this.handleClearQuery=()=>{this.setState({query:"",suggestions:null,suggestionsError:!1},(()=>{this.searchInputRef.current&&this.searchInputRef.current.inputRef.current&&this.searchInputRef.current.inputRef.current.focus(),this.props.removeItOmniture({componentName:ye.RGz,itemType:Ce.Nt.SEARCH_BOX_TEXT})}))},this.handleInputUpdater=e=>{var{query:t}=this.props;this.setState({query:e,suggestionsQuery:e,cancelled:!1}),this.getTrendingOrSuggestions(e),t!==e&&this.clearRefinementInfoFromState()},this.handleUpdatePreviousSearches=e=>{(0,Ae.QG)(e),this.setState({previousSearches:(0,Ae.KJ)()})},this.loadWhatsNext=(0,ue.A)((function*(){var{query:e,setWhatsNext:n,whatsNextQuery:a}=t.props;e&&e!==a&&n({queries:(yield(0,Ge.yJ)(e)).map((e=>({query:e.query}))),query:e})})),this.setPreviousQuery=e=>this.setState({previousQuery:e,textTyped:""}),this.setNextQueries=e=>{var{setWhatsNext:t}=this.props;t({queries:e.map((e=>{var{query:t}=e;return{query:t}}))})},this.searchRef=i.createRef(),this.clearQueryRef=i.createRef(),this.closeButtonRef=i.createRef(),this.mobileCloseButtonRef=i.createRef(),this.searchInputRef=i.createRef(),this.predictiveLayerRef=i.createRef(),this.predictiveQueryRef=i.createRef(),this.focusableElementsQuerySelector='button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])',e.fetchAmpAssetRedirects({staticContext:e.staticContext,esperantoToggles:this.makeToggles(this.props)})}UNSAFE_componentWillMount(){this.setState({previousSearches:(0,Ae.KJ)()}),document.addEventListener("click",this.handleClickAway,{passive:!0})}componentWillUnmount(){this.unsubscribeFromNextQueries&&this.unsubscribeFromNextQueries(),document.removeEventListener("click",this.handleClickAway),window.document&&window.document.body.classList.remove(Se.mU.BODY.SEARCH_EXPERIENCE_OPEN)}UNSAFE_componentWillReceiveProps(e){var{debounceDuration:t,isModalityLoaded:n}=e;t&&!this.debounceDurationSet&&(this.getSuggestionsDebounced=me()(this.getSuggestions,parseInt(t,10)),this.debounceDurationSet=!0);var{query:a,showDropdown:r}=this.state;r&&!1===this.props.isModalityLoaded&&!0===n&&this.getSuggestionsDebounced(a)}componentDidMount(){var{locationId:e,lafObject:t,query:n=""}=this.props;e&&Ge.FH.setLocationIdParameter(e),t&&Ge.FH.setLAFHeader(t),n&&""===this.state.query&&this.updateQueryState(n)}componentDidUpdate(e,t){var n,{fetchAmpAssetRedirects:a,isSearchDropdownOpen:r,locationId:i,lafObject:o,query:s,routerLocation:l,setWhatsNext:c}=this.props;!t.showDropdown&&this.state.showDropdown&&this.addKeyDownListener(),t.showDropdown&&!this.state.showDropdown&&this.removeKeyDownListener(),i&&i!==e.locationId&&Ge.FH.setLocationIdParameter(i),o&&o!==e.lafObject&&Ge.FH.setLAFHeader(o);var u=s||"";s!==e.query&&u!==this.state.query&&this.updateQueryState(u),s!==e.query&&c({queries:[]}),r&&(null===(n=e.routerLocation)||void 0===n?void 0:n.pathname)!==(null==l?void 0:l.pathname)&&this.handleHideDropdown(),a({esperantoToggles:this.makeToggles(this.props)})}updateQueryState(e){this.setState({query:e,previousQuery:e})}makeToggles(e){var{alternateAMPEndpoint:t,useAlternateAMPEndpoint:n,migrateAllAmpEndpoints:a,withAmpDataConfig:r}=e;return{alternateAMPEndpoint:t,useAlternateAMPEndpoint:n,migrateAllAmpEndpoints:a,withAmpDataConfig:r}}addKeyDownListener(){this.searchRef&&this.searchRef.current&&this.searchRef.current.addEventListener("keydown",this.handleKeyDownOnPredictiveLayer),this.props.isMobileOrTablet&&this.mobileCloseButtonRef&&this.mobileCloseButtonRef.current&&this.mobileCloseButtonRef.current.addEventListener("keydown",this.handleKeyDownOnPredictiveLayer)}removeKeyDownListener(){this.searchRef&&this.searchRef.current&&this.searchRef.current.removeEventListener("keydown",this.handleKeyDownOnPredictiveLayer),this.props.isMobileOrTablet&&this.mobileCloseButtonRef&&this.mobileCloseButtonRef.current&&this.mobileCloseButtonRef.current.removeEventListener("keydown",this.handleKeyDownOnPredictiveLayer)}isFocusableElement(e){var t,n=window.getComputedStyle(e,null);return e.offsetWidth&&e.offsetHeight&&!e.getAttribute("disabled")&&"visible"===n.visibility&&!(null!==(t=e.getAttribute("aria-label"))&&void 0!==t&&t.includes("Close"))}canGetEmpathySuggestions(){return this.state.query!==this.state.suggestionsQuery}render(){var{prepopulateInternalSearch:e,searchRedirectOmniture:t,isMobileOrTablet:n,whatsNext:a,setPredictiveSelection:r,suggestionsMinChars:o,isAuthenticated:s,predictiveLayerPZNCarouselMaxItems:l,predictiveLayerPZNCarouselUseCase:c}=this.props,{suggestions:u,query:d,textTyped:m,previousSearches:p,suggestionsError:h,showDropdown:v}=this.state;return i.createElement(Nt,{query:d,textTyped:m,trendingAndSuggestions:u,getRedirectForQuery:this.getRedirectForQuery,previousSearches:p,trendingAndSuggestionsError:h,showDropdown:v,isMobileOrTablet:n,handleHideDropdown:this.handleHideDropdown,handleTabKeyDown:this.handleTabKeyDown,handleEscape:this.handleEscape,handleSubmit:this.handleSubmit,handleClearQuery:this.handleClearQuery,handleInputUpdater:this.handleInputUpdater,handleUpdatePreviousSearches:this.handleUpdatePreviousSearches,handleInputChange:this.handleInputChange,handleShowDropdown:this.handleShowDropdown,nextQueries:a,onBlur:this.onBlur,predictiveLayerPZNCarouselMaxItems:l,predictiveLayerPZNCarouselUseCase:c,setPredictiveSelection:r,setPreviousQuery:this.setPreviousQuery,analyticsActions:{prepopulateInternalSearch:e,searchRedirectOmniture:t},refs:{closeButtonRef:this.closeButtonRef,clearQueryRef:this.clearQueryRef,mobileCloseButtonRef:this.mobileCloseButtonRef,searchInputRef:this.searchInputRef,searchRef:this.searchRef,predictiveLayerRef:this.predictiveLayerRef,predictiveQueryRef:this.predictiveQueryRef},suggestionsMinChars:o,isAuthenticated:s})}}var It={navigate:Ee.o,prepopulateInternalSearch:Ke.bV,searchRedirectOmniture:Ke.GJ,noSuggestionsOmniture:Ke.m0,removeItOmniture:Ke.Lg,showHeaderIcons:He.h0,hideHeaderIcons:He.sm,setWhatsNext:qe.B,fetchAmpAssetRedirects:Te,setPredictiveSelection:Fe.O,updateSelectedRelatedTags:Qe.Ze,setClearFilters:Ve.B3,setVisualNavigation:We.$v};const Tt=(0,s.compose)(pe.y,fe.rk,(0,l.connect)(((e,t)=>{var n,r=ge.A.openSearchBar(e),i=(0,xe.qu)(e),o=i.keyword?"":i.query,s=he.useCases.modalityPreferences.selectors.getLAFHeader(e),l=Pe(e),c=(0,d.Ny)(e),u=null!==(n=(0,Oe.NG)(e))&&void 0!==n?n:3,{isAuthenticated:m}=(0,ve.yr)(e),p=(0,xe.g$)(e),h=he.useCases.modalityPreferences.selectors.async(e),v=(0,Oe.Hv)(e),y=(0,Oe.en)(e),f=he.useCases.modalityPreferences.selectors.getActiveModalityType(e),g=(0,Be.q$)(e);return(0,a.A)({isModalityLoaded:null==h?void 0:h.loaded,activeModalityType:f,abTestConfigs:(0,Be.gB)(e),search:He.$P,query:o,locationId:(0,_e.br)(e),isMobileOrTablet:(0,d.qo)(e),isSearchDropdownOpen:r,lafObject:s,whatsNext:(0,Ue.l$)(e),whatsNextQuery:(0,Ue.bz)(e),redirectUrls:l,isMobile:c,isAuthenticated:m,predictiveLayerPZNCarouselMaxItems:v,predictiveLayerPZNCarouselUseCase:y,routerLocation:p,suggestionsMinChars:u,isModalityInWaysToShopActive:g},t)}),It))(kt);var Rt=n(578039),Lt=n(158850),Dt=n(869140);n(605556);class Pt extends i.PureComponent{render(){var{activeBasketId:e,eligibleItemCount:t,estimatedTotal:n={subtotal:"0.00"},items:r={},orderId:o,isAuthenticated:s,render:l,ampToggles:c,linkPayload:u}=this.props,d=(0,a.A)({},u,{componentName:"mini cart",usageContext:"view cart",basketID:e,products:Object.values(r),orderID:o,metricsKey:"skip_start_navigate"}),m=Number(t);return i.createElement("div",null,l({itemCount:m,estimatedTotal:n,isAuthenticated:s,linkPayload:d,toggles:c}))}}const Ot=Pt;const Bt=(0,F.compose)(Dt.A,(0,l.connect)((e=>{var{id:t,items:n,estimatedTotal:a}=(0,Rt.Bm)(e);return{activeBasketId:t,eligibleItemCount:(0,Lt.MN)(e),estimatedTotal:a,items:n,loadingStatus:(0,Rt.FG)(e),orderId:(0,Lt.Kj)(e)}})))(Ot);var Ht=n(674657),_t=n(199353),Ut=e=>{var{className:t}=e;return i.createElement(Ht.c,{"aria-hidden":"true",size:"l",className:t})},Kt=e=>{var{count:t}=e,{isKroger:n,accentText:a}=(0,l.useSelector)(m.Zj);return i.createElement("span",{className:"relative","data-testid":"CartHeader"},t>0?i.createElement(_t.A,{count:t,"data-testid":"CartHeader-badge",inverse:n},i.createElement(Ut,{className:a})):i.createElement(Ut,{className:a}))};const qt=e=>{var t,{itemCount:n,isAuthenticated:a,linkPayload:r}=e,o=1===n?"cart "+n+" item":"cart "+n+" items";return i.createElement(I.A,{className:u()("CartLink",{NonCLBadge:a}),to:"/cart",payload:a?r:void 0,"data-testid":"CartLink","aria-label":o},a?i.createElement(Kt,{count:n}):i.createElement(Kt,{count:0}),(t="Cart",i.createElement("span",{className:"CartTotal text-primary kds-Text--m","data-testid":"CartTotal"},t)))};var Ft=e=>{var{className:t}=e;return i.createElement("div",{className:t,"data-testid":"KrogerHeader-Basketv2"},i.createElement(Bt,{render:qt,linkPayload:{payloadIdentification:{producedBy:ze.g.Compass}}}))};Ft.displayName="Basket";const Qt=ie((0,o.ER)("Header-Basket",(()=>""))(Ft),"Basket");var Vt=n(861047),Wt=n(482209),Gt=n(913658),zt=n(375413),jt=n(801325),Yt=n(975045),Xt=n(858156),Zt=n.n(Xt),Jt=n(305055),$t=(e,t)=>({type:Jt.hg,payload:{componentName:"persistent header",usageContext:e,destination:"cancel changes"===e?t.pathname:"/cart/modify",dataClassification:Jt.hk,payloadIdentification:{producedBy:ze.g.PostOrder}}}),en=(0,ke.createSelector)((e=>Zt()(e,"router.location.pathname","")),(e=>e.includes("/cart"))),tn={openModalAnalytics:e=>$t("cancel changes",e),cancelModifications:Yt.c,cancelModifyAnalytics:()=>({type:Jt.hg,payload:{componentName:"modify order",componentType:"modify order modal",usageContext:"cancel changes",dataClassification:Jt.hk,payloadIdentification:{producedBy:ze.g.PostOrder}}})};const nn=(0,l.connect)((e=>({windowLocation:zt.selectors.getLocation(e)})),tn)((e=>{var{openModalAnalytics:t,cancelModifications:n,cancelModifyAnalytics:a,windowLocation:r}=e,[o,s]=(0,i.useState)(!1),l=()=>s(!1);return i.createElement(i.Fragment,null,i.createElement("button",{type:"button",className:"ModifyModeHeader-cancel-button body-m rounded-small mr-4 border border-solid border-callout-least-subtle bg-callout-more-subtle p-8","aria-label":"cancel changes","data-testid":"CancelReservationModal-OpenModalButton",onClick:()=>(e=>{t(e),s(!0)})(r)},"Cancel",i.createElement("span",{className:"hidden sm:inline"}," Changes")),i.createElement(jt.A,{isOpen:o,headingText:"Cancel changes?",modalKind:"action",handleCloseModal:l,primaryActionButton:i.createElement(v.Ay,{onClick:()=>{a(),n({componentName:"persistent header"}),l()},"data-testid":"confirm-modify-cancel-button",kind:"prominent",palette:"negative",variant:"fill"},"Cancel Changes"),secondaryActionButton:i.createElement(v.Ay,{onClick:l,"data-testid":"close-cancel-modify-modal",kind:"prominent",palette:"accent",variant:"border"},"Keep Changes"),className:"CancelModifyModal-container overflow-hidden"},i.createElement(A.A,null,"Any changes you have made to this order will not be applied.")))}));var an=n(457975),rn=n.n(an),on=n(747761),sn=n.n(on),ln=n(461121),cn=n(675628),un=n(773076),dn=n(418805),mn=n(116360),pn=(0,cn.A)((e=>{var{navigate:t,reviewChangesAnalytics:n}=e,a=(0,i.useCallback)((()=>{n(),t("/cart")}),[t,n]);return i.createElement("button",{type:"button",onClick:a,className:"ModifyModeHeader-right-button body-m rounded-small border border-solid border-callout-least-subtle bg-callout-more-subtle p-8","data-testid":"ModifyModeHeader-review-button"},"Review",i.createElement("span",{className:"hidden sm:inline"}," Changes"))})),hn=(0,dn.dv)(sn()({id:"./SubmitButton",load:()=>Promise.all([n.e(4211).then(n.bind(n,71972))]).then((e=>e[0])),path:()=>rn().join("/","./SubmitButton"),resolve:()=>71972,chunkName:()=>"SubmitButton"}),{key:"SubmitButton",disableLoading:!0}),vn=()=>i.createElement("div",{className:"ModifyModeHeader-CustomLoadingSpinner"},i.createElement(ln.A,{size:"xs",label:""})),yn={reviewChangesAnalytics:e=>$t("review changes",e)};const fn=(0,l.connect)((e=>{var{submitModifyInProgress:t}=(0,Rt.Bm)(e),n=(0,mn.Tm)(e)?(0,Vt.hK)(e,(0,Vt.yY)(e)):0,a=(0,Lt.zg)(e),r=0===n||a||t;return{isOnCartPage:en(e),isDisabled:r,location:zt.selectors.getLocation(e),isModifyInfoLoaded:(0,un.M)(e)}}),yn)((e=>{var{isOnCartPage:t,reviewChangesAnalytics:n,isDisabled:a,isModifyInfoLoaded:r}=e;return t?r?i.createElement(hn,{isDisabled:a}):i.createElement(vn,null):i.createElement(pn,{reviewChangesAnalytics:()=>n(location)})}));var gn=n(375142),En={[gn.ModalityTypes.Pickup]:"PICKUP",[gn.ModalityTypes.Delivery]:"DELIVERY",[gn.ModalityTypes.Ship]:"SHIP"};const Sn=(0,l.connect)((e=>{var t=(0,Vt.yY)(e),n=(0,Vt.bC)(e);return{modalityTypeLabel:En[t],fulfillmentDate:(0,Wt.Ag)(n)}}))((e=>{var{modalityTypeLabel:t,fulfillmentDate:n}=e,a=(0,i.useCallback)((()=>(0,Gt.uD)(t,"m","modalityIcon ModifyModeHeader-icon mr-12")),[t]);return i.createElement("div",{className:"flex justify-between items-center w-full py-4 px-12 sm:px-16 bg-callout-more-subtle border-solid border-t border-b border-callout-least-subtle","data-testid":"modify-mode-header-container"},i.createElement(A.A,{size:"s",className:"ModifyModeHeader-info flex-1 items-center inline-flex"},i.createElement(a,null),i.createElement("div",{className:"ModifyModeHeader-textContainer"},i.createElement("div",{className:"ModifyModeHeader-fulfillmentType font-bold"},"MODIFYING ",t),n)),i.createElement("div",{className:"ModifyModeHeader-buttons flex"},i.createElement(nn,null),i.createElement(fn,null)))}));var bn=n(558259),Mn=n(91199),wn=["children","disabled","onClickOutside"];class Cn extends i.Component{render(){var e=this.props,{children:t}=e,n=(0,r.A)(e,wn);return"undefined"!=typeof document&&"ontouchstart"in document.documentElement&&(document.body.style.cursor="pointer"),i.createElement("div",(0,a.A)({},n,{ref:e=>{this.container=e}}),t)}componentDidMount(){this.handler=this.createClickHandler(this.container),document.addEventListener("click",this.handler,!0)}componentWillUnmount(){document.removeEventListener("click",this.handler,!0)}createClickHandler(e){return t=>{this.props.disabled||e.contains(t.target)||this.props.onClickOutside(t)}}}var Nn=(e,t)=>{if(void 0===t||0===(null==t?void 0:t.length))return{};return null==t?void 0:t.reduce(((e,t)=>{var n;return null==e||null===(n=e.children)||void 0===n?void 0:n[t]}),e)},An=e=>"submenu"===(null==e?void 0:e.type)&&"submenu"===(null==e?void 0:e.children[0].type),xn=n(227817),kn=e=>/((http|https):\/\/|(www.))/gi.test(e.url),In=e=>{var{links:t,handleClose:n,componentName:a,ariaControls:r="",parentMenu:o,menuPath:s}=e,c=(0,l.useDispatch)();return(0,i.useEffect)((()=>{c((0,bn.E9)(s))}),[s]),i.createElement("div",{className:"ContentDisplayer grid mt-16 ml-16","data-testid":"MenuContent-ContentDisplayer",id:r},null==t?void 0:t.map(((e,r)=>i.createElement("ul",{className:"ContentBlock",key:null==e?void 0:e.elementId},null!=e&&e.title&&null!=e&&e.url?i.createElement("li",null,i.createElement(I.A,{"aria-label":null==e?void 0:e.title,to:e.url,payload:{itemIndex:r+1,destination:e.url,dataClassification:"Highly Private Linked Personal Information",metricsKey:"ExposedMenu/navigation",usageContext:e.title,componentName:a,skipV0:!0},onClick:n,id:"ExposedMenuContent-Link-"+(null==e?void 0:e.title),className:"bg-primary no-underline text-primary font-bold mb-0 kds-Heading p-4 mb-8",key:null==e?void 0:e.title},null==e?void 0:e.title)):i.createElement("li",null,i.createElement(xn.A,{size:"s",tag:"h2",className:"pl-4"},null==e?void 0:e.title)),null!=e&&e.url&&null!=e&&e.description?i.createElement("li",null,i.createElement(I.A,{size:"l",prominent:!0,"data-testid":"ExposedMenu-Content-Header-ShopAllV2",id:"ExposedMenu-Content-Header-ShopAllV2","aria-label":"Shop All",className:"font-500 hover:underline ExposedMenu-TopNav text-primary p-4 ExposedMenuContent-Link bg-default-50 body-m font-bold",to:null==e?void 0:e.url,payload:{metricsKey:"ExposedMenu/navigation",usageContext:e,destination:null==e?void 0:e.url,componentName:a,dataClassification:"Highly Private Linked Personal Information",skipV0:!0},onClick:n},null!=e&&e.description?null==e?void 0:e.description:"Shop All")):null,null==e?void 0:e.children.map((e=>i.createElement("li",null,i.createElement(I.A,{to:e.url,size:"m",implied:!0,"data-testid":"ExposedMenuSeamlessLink-"+(null==e?void 0:e.title),"aria-label":null==e?void 0:e.title,key:e.title,id:"ExposedMenuContent-Link-"+(null==e?void 0:e.title),className:"p-4 text-primary ExposedMenuContent-Link",onClick:n,target:kn(e)?"_blank":"_self",payload:{itemIndex:k(t,e),destination:e.url,dataClassification:"Highly Private Linked Personal Information",metricsKey:"ExposedMenu/navigation",usageContext:x(o,e.title),componentName:a,skipV0:!0}},e.title))))))))},Tn=e=>{var t,n,a,r,o,s,{levelNodes:c,exposedMenuState:d,secondLevelCheck:m,componentName:p,handleClose:h,actionedEventType:v,parentMenu:y,menuPath:f=[]}=e,g=(0,l.useDispatch)(),[E,S]=(0,i.useState)(null),[b,M]=(0,i.useState)(null),w=c.some(An);return(0,i.useEffect)((()=>{"click"===v&&S(w?0:null)}),[c,v]),i.createElement(i.Fragment,null,w&&i.createElement("ul",{className:"SecondCategoryDisplayer","data-testid":"SecondCategoryDisplayer"},null==c?void 0:c.map(((e,t)=>i.createElement("li",{key:t},i.createElement("button",{type:"button","data-testid":"ExposedMenuTextLink-"+(null==e?void 0:e.title),"aria-label":null==e?void 0:e.title,tabIndex:E===t||null===E?0:-1,"aria-expanded":E===t,"aria-controls":"ExposedMenuTextLink-"+(null==e?void 0:e.title),onClick:n=>{M(n.detail>0?"click":"keydown"),E!==t?(S(t),g({type:"SEAMLESS_NAVIGATE_NO_NAVIGATION",payload:{itemIndex:t+1,destination:"/",usageContext:x(y,null==e?void 0:e.title),metricsKey:"ExposedMenu/navigation",componentName:p}})):S(null)},id:"ExposedMenuContent-Link-"+(null==e?void 0:e.title),className:u()("hover:underline V2 ExposedMenuContent-LinkV2 bg-default-50 kds-Heading font-bold justify-between items-center text-left flex mb-0",{secondLevelcolor:m&&t===E},{firstLevelcolor:!m&&t===E},t===E?"selected":"unselected"),key:null==e?void 0:e.title},null==e?void 0:e.title))))),null===E&&w?null:c&&An(null===(t=c[E||0])||void 0===t?void 0:t.children[0])?i.createElement(Tn,{exposedMenuState:d,levelNodes:null===(n=c[E])||void 0===n?void 0:n.children,parentMenu:x(y,w?null===(a=c[E||0])||void 0===a?void 0:a.title:void 0),secondLevelCheck:"click"===b,actionedEventType:b,componentName:p,handleClose:h,ariaControls:"ExposedMenuTextLink-"+(null===(r=c[E])||void 0===r?void 0:r.title),menuPath:[...f,E]}):i.createElement(i.Fragment,null,w?null:i.createElement("div",{style:{marginLeft:"182px"}}),i.createElement(In,{exposedMenuState:d,parentMenu:x(y,w?null===(o=c[E||0])||void 0===o?void 0:o.title:void 0),links:w?null===(s=c[E||0])||void 0===s?void 0:s.children:c,handleClose:h,componentName:p,menuPath:"number"==typeof E?[...f,E]:f})))};function Rn(e,t){if("object"==typeof(n=e)&&!Array.isArray(n)&&null!==n&&"elementId"in n&&"string"==typeof n.elementId&&"title"in n&&"string"==typeof n.title&&"dataSource"in n&&"string"==typeof n.dataSource&&"children"in n&&Array.isArray(n.children)){var n;if(0===t.length)return e;var a=e.children[t[0]];if(a)return Rn(a,t.slice(1))}}var Ln=e=>{var{navMenuData:t,activeMenuPath:n}=e.navigationMenu;if(t)for(var a=n.length;a>=0;a--){var r=Rn(t,n.slice(0,a));if(null!=r&&r.espot)return r.espot.data}},Dn=n(876994),Pn=n(600441),On=(0,Pn.hv)(Dn.A,Pn.xo.espot),Bn=e=>{var{handleClose:t,handleKeyDown:n}=e,r=(0,l.useSelector)(Ln);return r?i.createElement("div",{className:"-mt-40",onClick:t,onKeyDown:n},i.createElement(On,(0,a.A)({},r,{analyticsComponentName:"espot in mega menu"}))):null},Hn=e=>{var{exposedMenuState:t,exposedMenuDispatch:n,navMenuData:a,handleClose:r,actionedEventType:o}=e,s=(0,i.useRef)();(0,i.useEffect)((()=>{function e(e){var t;(null==s||null===(t=s.current)||void 0===t||!t.contains(e.target))&&r()}return document.addEventListener("click",e),()=>document.removeEventListener("click",e)}),[]);var l=Nn(a,null==t?void 0:t.navArr);return i.createElement("div",{ref:s,className:"ExposedMenuContentContianerV2 w-full overflow-hidden border-t","data-testid":"ExposedMenu-Content-Container"},i.createElement("div",{className:"ExposedMenuContentV2 flex flex-col flex-wrap h-full"},i.createElement("div",{className:"w-full h-full flex justify-between"},i.createElement(i.Fragment,null,i.createElement("div",{className:"Taxonomy flex w-full h-full"},i.createElement(Tn,{exposedMenuState:t,exposedMenuDispatch:n,levelNodes:null==l?void 0:l.children,secondLevelCheck:!1,componentName:null==l?void 0:l.title,handleClose:r,actionedEventType:o,selectedLevel1Node:l,menuPath:[...t.navArr]}),i.createElement("div",{"data-testid":"NavMenuPromoSpace",className:"NavMenuPromoSpace bg-accent-most-subtle ml-auto flex-shrink-0 pt-24 pb-72 px-32"},i.createElement("div",{className:"flex justify-end pb-24"},i.createElement(v.Ay,{"aria-label":"Close",palette:"neutral",kind:"subtle",compact:!0,onClick:r,"data-testid":"ExposedMenu-Close-Menu-Button",id:"ExposedMenu-Close-Menu-Button"},i.createElement(g.g,{"aria-hidden":"true",className:"neutral-more-prominent kds-Icon--utilityMedium"}))),i.createElement(Bn,{handleClose:r,handleKeyDown:function(e){if("Tab"===e.key&&!e.shiftKey){e.preventDefault();var t=document.querySelectorAll("button.ExposedMenuContent-LinkV2.selected").length>0?document.querySelectorAll("button.ExposedMenuContent-LinkV2.selected")[0]:document.querySelectorAll(".ContentDisplayer a")[0];t instanceof HTMLElement&&t.focus()}}})))))))},_n=e=>{var{exposedMenuState:t,exposedMenuDispatch:n,navMenuData:a,handleClose:r,showExposedMenu:o,actionedEventType:s}=e,[l,c]=(0,i.useState)(!1);return(0,i.useEffect)((()=>{o?c(o):setTimeout((function(){c(o)}),300)}),[o,l]),i.createElement(i.Fragment,null,i.createElement("div",{className:"ExposedMenuContentContainerV2 w-full page-navs","data-testid":"ExposedMenuContent-Container"},i.createElement("div",{className:u()("ContainerMove",{Expand:!o})},(l||o)&&i.createElement(i.Fragment,null,i.createElement(Hn,{exposedMenuState:t,exposedMenuDispatch:n,navMenuData:a,handleClose:r,showExposedMenu:o,actionedEventType:s})))),o&&i.createElement("div",{className:"ExposedMenu--overlayV2 absolute w-full",role:"button","aria-label":"Close",tabIndex:0,onKeyDown:e=>{if("Enter"===e.key)return r}}))},Un={navArr:[]},Kn="ExposedMenu/update-category",qn="ExposedMenu/step-in",Fn="ExposedMenu/step-out",Qn="ExposedMenu/clear-array",Vn=Kn,Wn=function(e,t){switch(void 0===e&&(e=Un),t.type){case Kn:return{navArr:[t.payload.index]};case qn:return{navArr:[...e.navArr,t.payload.index]};case Fn:return{navArr:e.navArr.slice(0,-1)};case Qn:return{navArr:[]};default:return e}},Gn=()=>{if(document.body.classList.contains("ExposedMenu-Body--open")){var e=document.body.style.top;document.body.style.position="",document.body.style.top="",document.body.classList.remove("ExposedMenu-Body--open"),window.scrollTo(0,-1*parseInt(e||"0"))}},zn=e=>{var t,{navMenuData:n}=e,{accentBackground:a,accentText:r,accentTextInverse:o,menuItemHover:s,navigationBar:c}=(0,l.useSelector)(m.Zj),[d,p]=(0,i.useState)(!1),[h,v]=(0,i.useState)(null),[y,f]=(0,i.useState)(null),{state:g,dispatch:E}=(()=>{var[e,t]=(0,i.useReducer)(Wn);return{state:e,dispatch:t}})(),S=(0,i.useRef)(null);(0,i.useEffect)((()=>{d||Gn()}),[d]);var b=(0,l.useDispatch)(),M=function(e){void 0===e&&(e=!1),Gn(),p(!1),v(null);var t=(null==g?void 0:g.navArr)||[],a=Nn(n,[t[0]]),r=document.getElementById("ExposedMenu-Category-"+(null==a?void 0:a.title));r&&!e&&r.focus()},w=null==g?void 0:g.navArr,C=(e,t)=>a=>{var r,i;a.stopPropagation(),d||(document.body.classList.contains("ExposedMenu-Body--open")||(document.body.style.top="-"+window.scrollY+"px",document.body.classList.add("ExposedMenu-Body--open")),p(!0),y||f(a.type)),v(e);var o=Nn(n,[null==w?void 0:w[0]]);(null==o?void 0:o.title.toLowerCase())===(null==t||null===(r=t.title)||void 0===r?void 0:r.toLowerCase())&&d&&(M(),f(null)),b({type:"SEAMLESS_NAVIGATE_NO_NAVIGATION",payload:{itemIndex:e+1,destination:"/",usageContext:null==t||null===(i=t.title)||void 0===i?void 0:i.toLowerCase(),metricsKey:"ExposedMenu/navigation",componentName:"menu",dataClassification:"Highly Private Linked Personal Information"}}),E({type:Vn,payload:{index:e}})};return(0,i.useEffect)((()=>{var e=e=>{27===e.keyCode&&d&&M()},t=null==S?void 0:S.current;return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[d]),i.createElement("div",{"data-testid":"ExposedMenu-Container",ref:S,"aria-hidden":"false","aria-busy":"false","aria-live":"off"},i.createElement(Cn,{onClickOutside:()=>{d&&M(!0)}},i.createElement("div",{className:"ExposedMenuContainerV2","data-testid":"ExposedMenuContainer"},i.createElement("div",{className:"ExposedMenuBarV2 flex justify-center"},i.createElement("ul",{className:"flex flex-row justify-center","data-testid":"ExposedMenu-List"},null==n||null===(t=n.children)||void 0===t?void 0:t.map(((e,t)=>{var n;return Boolean((null==e||null===(n=e.children)||void 0===n?void 0:n.length)>1)?i.createElement("li",{className:"list-reset flex px-4",key:null==e?void 0:e.title},i.createElement("button",{type:"button","data-testid":"ExposedMenu-Category-"+(null==e?void 0:e.title),id:"ExposedMenu-Category-"+(null==e?void 0:e.title),tabIndex:null!==h&&t!==h?-1:void 0,"aria-label":null==e?void 0:e.title,"aria-expanded":t===h?"true":"false",className:u()("font-500 ExposedMenu-TopNavV2 stack-base kds-Heading whitespace-nowrap mb-0 font-bold p-8 rounded-small",s,{["ExposedMenu-SelectedV2 rounded-small relative "+o+" "+a]:t===h,[c+" "+r]:t!==h}),onClick:C(t,e),onKeyDown:e=>{f(e.type)}},null==e?void 0:e.title)):null})))),i.createElement(_n,{handleClose:M,exposedMenuState:g,exposedMenuDispatch:E,navMenuData:n,showExposedMenu:d,actionedEventType:y}))))},jn={width:"524px",height:"34px"};var Yn={LoadingComponent:function(){var{menuItemSkeleton:e}=(0,l.useSelector)(m.Zj);return i.createElement("div",null,i.createElement("div",{className:"ExposedMenuContainerV2","aria-hidden":"true","aria-busy":"true","aria-live":"off"},i.createElement("div",{className:"ExposedMenuBarV2 flex justify-center"},i.createElement("ul",{className:"flex flex-row justify-center"},i.createElement("li",{className:"list-reset flex px-4"},i.createElement("div",{className:u()(e,"stack-base mb-0 rounded-small"),style:jn}))))))}},Xn=(0,p.A)()($n),Zn=(0,p.A)(Yn)($n);const Jn=function(){var e=(0,l.useSelector)(Mn.g),t={type:"navigation",version:"1.0.0",id:"site-menu-v2"};return i.createElement("div",{className:"KrogerHeader-ExposedMenu","data-testid":"exposed-menu-no-ab"},e?i.createElement(Zn,t):i.createElement(Xn,t))};function $n(e){var{data:t}=e,n=(0,l.useDispatch)();return(0,i.useEffect)((()=>{void 0!==t&&n((0,bn.QH)(t.menu))}),[n,t]),i.createElement(zn,{navMenuData:null==t?void 0:t.menu})}var ea=["isMobileSearchOpen","hideSiteMenu","isMobile"],ta=e=>{var{isMobileSearchOpen:t,hideSiteMenu:n,isMobile:a}=e,o=(0,r.A)(e,ea);return t||n?i.createElement("div",{className:"KrogerHeader-SiteMenu"}):a?i.createElement(Y,o):i.createElement("div",{className:"KrogerHeader-SiteMenu"})},na=e=>{var{updateLayout:t,isInModifyMode:n,isMobile:r,isSearchOpen:o,hideSiteMenu:s,hideSearch:c,hideBasket:d,hideModalitySelector:p}=e;(0,i.useEffect)((()=>(t(),t)),[n,t]);var{navigationBar:h,isKroger:v,menuItemHover:y,accentText:f}=(0,l.useSelector)(m.Zj),g=r&&o;return i.createElement("div",{className:"KrogerHeaderContainerV2"},i.createElement("div",{className:u()("KrogerHeader V2 flex items-center",h,{"border-b border-neutral-less-subtle shadow-4":p&&r})},!g&&i.createElement(X.Ay,(0,a.A)({type:"imagenav",version:"1.0.0",id:v?"banner/logowhite":"banner/header_logo",forceAmpRerender:!0},e)),!s&&!r&&i.createElement("nav",{"aria-label":"Primary",className:"KrogerHeader-ExposedMenu",style:{overflow:o&&"hidden"}},i.createElement(Jn,null)),i.createElement(ta,(0,a.A)({isMobileSearchOpen:g,hideSiteMenu:s,isMobile:r},e)),!c&&i.createElement("div",{className:u()("KrogerHeader-ItemV2 KrogerHeader-SearchV2 Search-Dropdown",{"MobileSearch--open":g,"Search-Dropdown--open":o,"stack-highest":o}),"data-testid":"KrogerHeader-SearchV2"},i.createElement(Tt,{searchBarClassName:"SearchBarHeader"})),i.createElement("div",{className:"KrogerHeader-RowBreak"}),!g&&i.createElement("nav",{className:"KrogerHeader-Account-And-Cart flex items-center","aria-label":"Account and Cart"},!g&&i.createElement(ce,e),!d&&!g&&i.createElement(Qt,{className:u()(y,h,f,{"py-8 px-24 w-32":!r,"p-4 w-40":r},"rounded-medium")}))),n&&!o&&i.createElement("div",{className:"KrogerHeader-ModalityRightQuickLinks"},i.createElement(Sn,null)))},aa={openSearch:()=>e=>(e=>{e({type:He.oG})})(e),closeSearch:()=>e=>(e=>{e({type:He.EV})})(e)};na.displayName="Header";const ra=(0,s.compose)((0,o.ER)("Header",(()=>"")),(0,l.connect)((e=>({isInModifyMode:(0,mn.Tm)(e),isMobile:(0,d.qo)(e),isSearchOpen:ge.A.openSearchBar(e)})),aa))(na)},321276:(e,t)=>{var n={update:function(){if("function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),a=function(){};window.addEventListener("testPassiveEventSupport",a,t),window.removeEventListener("testPassiveEventSupport",a,t),n.hasSupport=e}}};n.update(),t.A=n},457569:(e,t,n)=>{var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};var r=n(296540),i=n(605556),o=n(321276).A;function s(e,t){if(0===t)return e;var n=e.x,a=e.y,r=Math.PI/180*t;return{x:n*Math.cos(r)+a*Math.sin(r),y:a*Math.cos(r)-n*Math.sin(r)}}function l(e,t){var n=s(function(e){return"changedTouches"in e?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}}(e),t.rotationAngle),a=n.x,r=n.y,i=t.x-a,o=t.y-r,l=Math.abs(i),c=Math.abs(o),u=Date.now()-t.start;return{deltaX:i,deltaY:o,absX:l,absY:c,velocity:Math.sqrt(l*l+c*c)/u}}var c=function(e){function t(n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,a));return r.swipeable={x:null,y:null,swiping:!1,start:0},r.eventStart=r.eventStart.bind(r),r.eventMove=r.eventMove.bind(r),r.eventEnd=r.eventEnd.bind(r),r.mouseDown=r.mouseDown.bind(r),r.mouseMove=r.mouseMove.bind(r),r.mouseUp=r.mouseUp.bind(r),r.cleanupMouseListeners=r.cleanupMouseListeners.bind(r),r.setupMouseListeners=r.setupMouseListeners.bind(r),r.elementRef=r.elementRef.bind(r),r.setupTouchmoveEvent=r.setupTouchmoveEvent.bind(r),r.cleanupTouchmoveEvent=r.cleanupTouchmoveEvent.bind(r),r.hasPassiveSupport=o.hasSupport,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.preventDefaultTouchmoveEvent&&this.setupTouchmoveEvent()},t.prototype.componentDidUpdate=function(e){e.disabled!==this.props.disabled&&(this.cleanupMouseListeners(),this.swipeable={x:null,y:null,swiping:!1,start:0}),e.preventDefaultTouchmoveEvent&&!this.props.preventDefaultTouchmoveEvent?this.cleanupTouchmoveEvent():!e.preventDefaultTouchmoveEvent&&this.props.preventDefaultTouchmoveEvent&&this.setupTouchmoveEvent()},t.prototype.componentWillUnmount=function(){this.cleanupMouseListeners()},t.prototype.setupTouchmoveEvent=function(){this.element&&this.hasPassiveSupport&&this.element.addEventListener("touchmove",this.eventMove,{passive:!1})},t.prototype.setupMouseListeners=function(){document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mouseup",this.mouseUp)},t.prototype.cleanupTouchmoveEvent=function(){this.element&&this.hasPassiveSupport&&this.element.removeEventListener("touchmove",this.eventMove,{passive:!1})},t.prototype.cleanupMouseListeners=function(){document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mouseup",this.mouseUp)},t.prototype.mouseDown=function(e){this.props.trackMouse&&"mousedown"===e.type&&("function"==typeof this.props.onMouseDown&&this.props.onMouseDown(e),this.setupMouseListeners(),this.eventStart(e))},t.prototype.mouseMove=function(e){this.eventMove(e)},t.prototype.mouseUp=function(e){this.cleanupMouseListeners(),this.eventEnd(e)},t.prototype.eventStart=function(e){if(!(e.touches&&e.touches.length>1)){var t=this.props.rotationAngle,n=s(function(e){return"touches"in e?{x:e.touches[0].clientX,y:e.touches[0].clientY}:{x:e.clientX,y:e.clientY}}(e),t),a=n.x,r=n.y;this.props.stopPropagation&&e.stopPropagation(),this.swipeable={start:Date.now(),x:a,y:r,swiping:!1,rotationAngle:t}}},t.prototype.eventMove=function(e){var t=this.props,n=t.stopPropagation,a=t.delta,r=t.onSwiping,i=t.onSwiped,o=t.onSwipingLeft,s=t.onSwipedLeft,c=t.onSwipingRight,u=t.onSwipedRight,d=t.onSwipingUp,m=t.onSwipedUp,p=t.onSwipingDown,h=t.onSwipedDown,v=t.preventDefaultTouchmoveEvent;if(this.swipeable.x&&this.swipeable.y&&!(e.touches&&e.touches.length>1)){var y=l(e,this.swipeable);if(!(y.absX<a&&y.absY<a)||this.swipeable.swiping){n&&e.stopPropagation(),r&&r(e,y.deltaX,y.deltaY,y.absX,y.absY,y.velocity);var f=!1;(r||i)&&(f=!0),y.absX>y.absY?y.deltaX>0?(o||s)&&(o&&o(e,y.absX),f=!0):(c||u)&&(c&&c(e,y.absX),f=!0):y.deltaY>0?(d||m)&&(d&&d(e,y.absY),f=!0):(p||h)&&(p&&p(e,y.absY),f=!0),this.swipeable.swiping=!0,f&&v&&e.preventDefault()}}},t.prototype.eventEnd=function(e){var t=this.props,n=t.stopPropagation,a=t.flickThreshold,r=t.onSwiped,i=t.onSwipedLeft,o=t.onSwipedRight,s=t.onSwipedUp,c=t.onSwipedDown,u=t.onTap;if(this.swipeable.swiping){var d=l(e,this.swipeable);n&&e.stopPropagation();var m=d.velocity>a;r&&r(e,d.deltaX,d.deltaY,m,d.velocity),d.absX>d.absY?d.deltaX>0?i&&i(e,d.deltaX,m):o&&o(e,d.deltaX,m):d.deltaY>0?s&&s(e,d.deltaY,m):c&&c(e,d.deltaY,m)}else u&&u(e);this.swipeable={x:null,y:null,swiping:!1,start:0}},t.prototype.elementRef=function(e){this.element=e,this.props.innerRef&&this.props.innerRef(e)},t.prototype.render=function(){var e=a({},this.props);return this.props.disabled||(e.onTouchStart=this.eventStart,this.props.preventDefaultTouchmoveEvent&&this.hasPassiveSupport||(e.onTouchMove=this.eventMove),e.onTouchEnd=this.eventEnd,e.onMouseDown=this.mouseDown),e.ref=this.elementRef,delete e.onSwiped,delete e.onSwiping,delete e.onSwipingUp,delete e.onSwipingRight,delete e.onSwipingDown,delete e.onSwipingLeft,delete e.onSwipedUp,delete e.onSwipedRight,delete e.onSwipedDown,delete e.onSwipedLeft,delete e.onTap,delete e.flickThreshold,delete e.delta,delete e.preventDefaultTouchmoveEvent,delete e.stopPropagation,delete e.nodeName,delete e.children,delete e.trackMouse,delete e.disabled,delete e.innerRef,delete e.rotationAngle,r.createElement(this.props.nodeName,e,this.props.children)},t}(r.Component);c.propTypes={onSwiped:i.func,onSwiping:i.func,onSwipingUp:i.func,onSwipingRight:i.func,onSwipingDown:i.func,onSwipingLeft:i.func,onSwipedUp:i.func,onSwipedRight:i.func,onSwipedDown:i.func,onSwipedLeft:i.func,onTap:i.func,flickThreshold:i.number,delta:i.number,preventDefaultTouchmoveEvent:i.bool,stopPropagation:i.bool,nodeName:i.string,trackMouse:i.bool,disabled:i.bool,innerRef:i.func,children:i.node,rotationAngle:i.number},c.defaultProps={flickThreshold:.6,delta:10,preventDefaultTouchmoveEvent:!1,stopPropagation:!1,nodeName:"div",disabled:!1,rotationAngle:0},e.exports=c}}]);
//# sourceMappingURL=header-v2.a97c226e843cfc20b772.js.map